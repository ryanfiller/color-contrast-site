{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/@sveltech/routify/runtime/utils/index.js","../../node_modules/@sveltech/routify/runtime/store.js","../../node_modules/@sveltech/routify/runtime.config.js","../../node_modules/@sveltech/routify/runtime/utils/urlToRoute.js","../../node_modules/@sveltech/routify/runtime/Prefetcher.svelte","../../node_modules/@sveltech/routify/runtime/helpers.js","../../node_modules/@sveltech/routify/runtime/Route.svelte","../../node_modules/@sveltech/routify/runtime/utils/onAppLoaded.js","../../node_modules/@sveltech/routify/runtime/navigator.js","../../node_modules/@sveltech/routify/runtime/Router.svelte","../../node_modules/@sveltech/routify/runtime/middleware.js","../../node_modules/@sveltech/routify/runtime/plugins/tree.js","../../node_modules/@sveltech/routify/runtime/plugins/assignAPI.js","../../node_modules/@sveltech/routify/runtime/buildRoutes.js","../../src/stores.js","../../src/components/button.svelte","../../static/icons/sun.svg","../../static/icons/moon.svg","../../src/components/dark-mode.svelte","../../static/icons/add.svg","../../static/icons/code.svg","../../static/icons/download.svg","../../static/icons/edit.svg","../../static/icons/save.svg","../../src/components/actions-buttons.svelte","../../src/components/actions-area.svelte","../../src/layout.svelte","../../node_modules/object-assign/index.js","../../node_modules/rxjs/internal/util/isFunction.js","../../node_modules/rxjs/internal/config.js","../../node_modules/rxjs/internal/util/hostReportError.js","../../node_modules/rxjs/internal/Observer.js","../../node_modules/rxjs/internal/util/isArray.js","../../node_modules/rxjs/internal/util/isObject.js","../../node_modules/rxjs/internal/util/UnsubscriptionError.js","../../node_modules/rxjs/internal/Subscription.js","../../node_modules/rxjs/internal/symbol/rxSubscriber.js","../../node_modules/rxjs/internal/Subscriber.js","../../node_modules/rxjs/internal/operators/filter.js","../../node_modules/@sanity/observable/operators/filter.js","../../node_modules/rxjs/internal/operators/map.js","../../node_modules/@sanity/observable/operators/map.js","../../node_modules/deep-assign/index.js","../../node_modules/is-obj/index.js","../../node_modules/@sanity/client/lib/util/getSelection.js","../../node_modules/@sanity/client/lib/validators.js","../../node_modules/@sanity/client/lib/data/patch.js","../../node_modules/@sanity/client/lib/data/transaction.js","../../node_modules/@sanity/client/lib/data/encodeQueryString.js","../../node_modules/rxjs/internal/util/canReportError.js","../../node_modules/rxjs/internal/util/toSubscriber.js","../../node_modules/rxjs/internal/symbol/observable.js","../../node_modules/rxjs/internal/util/identity.js","../../node_modules/rxjs/internal/util/pipe.js","../../node_modules/rxjs/internal/Observable.js","../../node_modules/rxjs/internal/operators/scan.js","../../node_modules/rxjs/internal/util/ArgumentOutOfRangeError.js","../../node_modules/rxjs/internal/observable/empty.js","../../node_modules/rxjs/internal/operators/takeLast.js","../../node_modules/rxjs/internal/operators/defaultIfEmpty.js","../../node_modules/rxjs/internal/operators/reduce.js","../../node_modules/@sanity/observable/operators/reduce.js","../../node_modules/@sanity/observable/lib/SanityObservableMinimal.js","../../node_modules/@rexxars/eventsource-polyfill/src/eventsource.js","../../node_modules/@sanity/eventsource/browser.js","../../node_modules/@sanity/client/lib/util/pick.js","../../node_modules/@sanity/client/lib/util/defaults.js","../../node_modules/@sanity/generate-help-url/index.js","../../node_modules/@sanity/client/lib/util/once.js","../../node_modules/@sanity/client/lib/data/listen.js","../../node_modules/@sanity/client/lib/data/dataMethods.js","../../node_modules/@sanity/client/lib/datasets/datasetsClient.js","../../node_modules/@sanity/client/lib/projects/projectsClient.js","../../node_modules/@sanity/client/lib/assets/assetsClient.js","../../node_modules/@sanity/client/lib/http/queryString.js","../../node_modules/@sanity/client/lib/users/usersClient.js","../../node_modules/@sanity/client/lib/auth/authClient.js","../../node_modules/nano-pubsub/index.js","../../node_modules/get-it/lib/util/middlewareReducer.js","../../node_modules/requires-port/index.js","../../node_modules/querystringify/index.js","../../node_modules/url-parse/index.js","../../node_modules/get-it/lib/middleware/defaultOptionsProcessor.js","../../node_modules/get-it/lib/middleware/defaultOptionsValidator.js","../../node_modules/same-origin/url-parser.js","../../node_modules/parse-headers/parse-headers.js","../../node_modules/get-it/lib/request/browser-request.js","../../node_modules/same-origin/index.js","../../node_modules/get-it/lib/index.js","../../node_modules/get-it/lib/util/global.js","../../node_modules/is-plain-object/index.js","../../node_modules/isobject/index.js","../../node_modules/get-it/lib/middleware/jsonRequest.js","../../node_modules/get-it/lib/middleware/jsonResponse.js","../../node_modules/get-it/lib/middleware/progress/browser-progress.js","../../node_modules/make-error/index.js","../../node_modules/@sanity/client/lib/http/errors.js","../../node_modules/@sanity/client/lib/http/request.js","../../node_modules/@sanity/client/lib/http/browserMiddleware.js","../../node_modules/get-it/lib/middleware/observable.js","../../node_modules/@sanity/client/lib/config.js","../../node_modules/@sanity/client/lib/sanityClient.js","../../node_modules/@sanity/client/lib/http/requestOptions.js","../../src/sanityClient.js","../../src/pages/[owner].svelte","../../src/pages/index.svelte","../../node_modules/@sveltech/routify/tmp/routes.js","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.24.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","const MATCH_PARAM = RegExp(/\\:([^/()]+)/g)\n\nexport function handleScroll (element) {\n  if (navigator.userAgent.includes('jsdom')) return false\n  scrollAncestorsToTop(element)\n  handleHash()\n}\n\nexport function handleHash () {\n  if (navigator.userAgent.includes('jsdom')) return false\n  const { hash } = window.location\n  if (hash) {\n    const validElementIdRegex = /^[A-Za-z]+[\\w\\-\\:\\.]*$/\n    if (validElementIdRegex.test(hash.substring(1))) {\n      const el = document.querySelector(hash)\n      if (el) el.scrollIntoView()\n    }\n  }\n}\n\nexport function scrollAncestorsToTop (element) {\n  if (\n    element &&\n    element.scrollTo &&\n    element.dataset.routify !== 'scroll-lock' &&\n    element.dataset['routify-scroll'] !== 'lock'\n  ) {\n    element.style['scroll-behavior'] = 'auto'\n    element.scrollTo({ top: 0, behavior: 'auto' })\n    element.style['scroll-behavior'] = ''\n    scrollAncestorsToTop(element.parentElement)\n  }\n}\n\nexport const pathToRegex = (str, recursive) => {\n  const suffix = recursive ? '' : '/?$' //fallbacks should match recursively\n  str = str.replace(/\\/_fallback?$/, '(/|$)')\n  str = str.replace(/\\/index$/, '(/index)?') //index files should be matched even if not present in url\n  str = str.replace(MATCH_PARAM, '([^/]+)') + suffix\n  return str\n}\n\nexport const pathToParamKeys = string => {\n  const paramsKeys = []\n  let matches\n  while ((matches = MATCH_PARAM.exec(string))) paramsKeys.push(matches[1])\n  return paramsKeys\n}\n\nexport const pathToRank = ({ path }) => {\n  return path\n    .split('/')\n    .filter(Boolean)\n    .map(str => (str === '_fallback' ? 'A' : str.startsWith(':') ? 'B' : 'C'))\n    .join('')\n}\n\nlet warningSuppressed = false\n\n/* eslint no-console: 0 */\nexport function suppressWarnings () {\n  if (warningSuppressed) return\n  const consoleWarn = console.warn\n  console.warn = function (msg, ...msgs) {\n    const ignores = [\n      \"was created with unknown prop 'scoped'\",\n      \"was created with unknown prop 'scopedSync'\",\n    ]\n    if (!ignores.find(iMsg => msg.includes(iMsg)))\n      return consoleWarn(msg, ...msgs)\n  }\n  warningSuppressed = true\n}\n\nexport function currentLocation () {\n  const pathMatch = window.location.search.match(/__routify_path=([^&]+)/)\n  const prefetchMatch = window.location.search.match(/__routify_prefetch=\\d+/)\n  window.routify = window.routify || {}\n  window.routify.prefetched = prefetchMatch ? true : false\n  const path = pathMatch && pathMatch[1].replace(/[#?].+/, '') // strip any thing after ? and #\n  return path || window.location.pathname\n}\n","import { writable, derived } from 'svelte/store'\nimport '../typedef'\nimport { currentLocation } from './utils'\n\nwindow.routify = window.routify || {}\n\n/** @type {import('svelte/store').Writable<RouteNode>} */\nexport const route = writable(null) // the actual route being rendered\n\n/** @type {import('svelte/store').Writable<RouteNode[]>} */\nexport const routes = writable([]) // all routes\nroutes.subscribe(routes => (window.routify.routes = routes))\n\nexport let rootContext = writable({ component: { params: {} } })\n\n/** @type {import('svelte/store').Writable<RouteNode>} */\nexport const urlRoute = writable(null)  // the route matching the url\n\n/** @type {import('svelte/store').Writable<String>} */\nexport const basepath = (() => {\n    const { set, subscribe } = writable(\"\")\n\n    return {\n        subscribe,\n        set(value) {\n            if (value.match(/^[/(]/))\n                set(value)\n            else console.warn('Basepaths must start with / or (')\n        },\n        update() { console.warn('Use assignment or set to update basepaths.') }\n    }\n})()\n\nexport const location = derived( // the part of the url matching the basepath\n    [basepath, urlRoute],\n    ([$basepath, $route]) => {\n        const [, base, path] = currentLocation().match(`^(${$basepath})(${$route.regex})`) || []\n        return { base, path }\n    }\n)\n\nexport const prefetchPath = writable(\"\")","export default {\n    queryHandler: {\n        parse: search => fromEntries(new URLSearchParams(search)),\n        stringify: params => '?' + (new URLSearchParams(params)).toString()\n    }\n}\n\n\nfunction fromEntries(iterable) {\n    return [...iterable].reduce((obj, [key, val]) => {\n        obj[key] = val\n        return obj\n    }, {})\n}","import { get } from 'svelte/store'\nimport * as stores from '../store'\nimport config from '../../runtime.config'\n\n/**\n * @param {string} url \n * @return {ClientNode}\n */\nexport function urlToRoute(url) {\n    /** @type {RouteNode[]} */\n    const routes = get(stores.routes)\n    const basepath = get(stores.basepath)\n    const route = routes.find(route => url.match(`^${basepath}${route.regex}`))\n    if (!route)\n        throw new Error(\n            `Route could not be found for \"${url}\".`\n        )\n\n    const [, base] = url.match(`^(${basepath})${route.regex}`)\n    const path = url.slice(base.length)\n\n    if (config.queryHandler)\n        route.params = config.queryHandler.parse(window.location.search)\n\n    if (route.paramKeys) {\n        const layouts = layoutByPos(route.layouts)\n        const fragments = path.split('/').filter(Boolean)\n        const routeProps = getRouteProps(route.path)\n\n        routeProps.forEach((prop, i) => {\n            if (prop) {\n                route.params[prop] = fragments[i]\n                if (layouts[i]) layouts[i].param = { [prop]: fragments[i] }\n                else route.param = { [prop]: fragments[i] }\n            }\n        })\n    }\n\n    route.leftover = url.replace(new RegExp(base + route.regex), '')\n\n    return route\n}\n\n\n/**\n * @param {array} layouts\n */\nfunction layoutByPos(layouts) {\n    const arr = []\n    layouts.forEach(layout => {\n        arr[layout.path.split('/').filter(Boolean).length - 1] = layout\n    })\n    return arr\n}\n\n\n/**\n * @param {string} url\n */\nfunction getRouteProps(url) {\n    return url\n        .split('/')\n        .filter(Boolean)\n        .map(f => f.match(/\\:(.+)/))\n        .map(f => f && f[1])\n}\n","<script context=\"module\">\n  import { writable, derived, get } from 'svelte/store'\n\n  /** config */\n  const iframeNum = 2\n  const defaults = {\n    validFor: 60,\n    timeout: 5000,\n    gracePeriod: 1000,\n  }\n\n  /** stores and subscriptions */\n  const queue = writable([])\n  const actives = derived(queue, q => q.slice(0, iframeNum))\n  actives.subscribe(actives =>\n    actives.forEach(({ options }) => {\n      setTimeout(() => removeFromQueue(options.prefetch), options.timeout)\n    })\n  )\n\n  /**\n   * @param {string} path\n   * @param {defaults} options\n   */\n  export function prefetch(path, options = {}) {\n    prefetch.id = prefetch.id || 1\n    path = !path.href ? path : path.href.replace(/^(?:\\/\\/|[^/]+)*\\//, '/')\n    //replace first ? since were mixing user queries with routify queries\n    path = path.replace('?', '&')\n\n    options = { ...defaults, ...options, path }\n    options.prefetch = prefetch.id++\n\n    //don't prefetch within prefetch or SSR\n    if (window.routify.prefetched || navigator.userAgent.match('jsdom'))\n      return false\n\n    // add to queue\n    queue.update(q => {\n      if (!q.some(e => e.options.path === path))\n        q.push({\n          url: `/__app.html?${optionsToQuery(options)}`,\n          options,\n        })\n      return q\n    })\n  }\n\n  /**\n   * convert options to query string\n   * {a:1,b:2} becomes __routify_a=1&routify_b=2\n   * @param {defaults & {path: string, prefetch: number}} options\n   */\n  function optionsToQuery(options) {\n    return Object.entries(options)\n      .map(([key, val]) => `__routify_${key}=${val}`)\n      .join('&')\n  }\n\n  /**\n   * @param {number|MessageEvent} idOrEvent\n   */\n  function removeFromQueue(idOrEvent) {\n    const id = idOrEvent.data ? idOrEvent.data.prefetchId : idOrEvent\n    if (!id) return null\n\n    const entry = get(queue).find(\n      entry => entry && entry.options.prefetch == id\n    )\n    // removeFromQueue is called by both eventListener and timeout,\n    // but we can only remove the item once\n    if (entry) {\n      const { gracePeriod } = entry.options\n      const gracePromise = new Promise(resolve =>\n        setTimeout(resolve, gracePeriod)\n      )\n      const idlePromise = new Promise(resolve => {\n        window.requestIdleCallback\n          ? window.requestIdleCallback(resolve)\n          : setTimeout(resolve, gracePeriod + 1000)\n      })\n      Promise.all([gracePromise, idlePromise]).then(() => {\n        queue.update(q => q.filter(q => q.options.prefetch != id))\n      })\n    }\n  }\n\n  // Listen to message from child window\n  addEventListener('message', removeFromQueue, false)\n</script>\n\n<div id=\"__routify_iframes\" style=\"display: none\">\n  {#each $actives as prefetch (prefetch.options.prefetch)}\n    <iframe src={prefetch.url} frameborder=\"0\" title=\"routify prefetcher\" />\n  {/each}\n</div>\n","import { getContext, tick } from 'svelte'\nimport { derived, get, writable } from 'svelte/store'\nimport { route, routes, location, rootContext, prefetchPath } from './store'\nimport { pathToParamKeys } from './utils'\nimport { onAppLoaded } from './utils/onAppLoaded.js'\nimport config from '../runtime.config'\nimport { urlToRoute } from './utils/urlToRoute'\nimport { prefetch as _prefetch } from './Prefetcher.svelte'\n/// <reference path=\"../typedef.js\" />\n\n/** @ts-check */\n/**\n * @typedef {Object} RoutifyContext\n * @prop {ClientNode} component\n * @prop {ClientNode} layout\n * @prop {any} componentFile \n * \n *  @returns {import('svelte/store').Readable<RoutifyContext>} */\nfunction getRoutifyContext() {\n  return getContext('routify') || rootContext\n}\n\n\n/**\n * @typedef {import('svelte/store').Readable<ClientNodeApi>} ClientNodeHelperStore\n * @type { ClientNodeHelperStore } \n */\nexport const page = {\n  subscribe(run) {\n    return derived(route, route => route.api).subscribe(run)\n  }\n}\n\n/** @type {ClientNodeHelperStore} */\nexport const layout = {\n  subscribe(run) {\n    const ctx = getRoutifyContext()\n    return derived(ctx, ctx => ctx.layout.api).subscribe(run)\n  }\n}\n\n/**\n* @typedef {{component: ClientNode}}  ContextHelper\n* @typedef {import('svelte/store').Readable<ContextHelper>} ContextHelperStore\n* @type {ContextHelperStore}\n*/\nexport const context = {\n  subscribe(run) {\n    return getRoutifyContext().subscribe(run)\n  }\n}\n\n/**\n * @typedef {function():void} ReadyHelper\n * @typedef {import('svelte/store').Readable<ReadyHelper>} ReadyHelperStore\n * @type {ReadyHelperStore}\n*/\nexport const ready = {\n  subscribe(run) {\n    window['routify'].stopAutoReady = true\n    async function ready() {\n      await tick()\n      await onAppLoaded({ path: get(route).path, metatags })\n    }\n    run(ready)\n    return () => { }\n  }\n}\n\n/**\n * @callback AfterPageLoadHelper\n * @param {function} callback\n * \n * @typedef {import('svelte/store').Readable<AfterPageLoadHelper> & {_hooks:Array<function>}} AfterPageLoadHelperStore\n * @type {AfterPageLoadHelperStore}\n */\nexport const afterPageLoad = {\n  _hooks: [],\n  subscribe: hookHandler\n}\n\n/** \n * @callback BeforeUrlChangeHelper\n * @param {function} callback\n *\n * @typedef {import('svelte/store').Readable<BeforeUrlChangeHelper> & {_hooks:Array<function>}} BeforeUrlChangeHelperStore\n * @type {BeforeUrlChangeHelperStore}\n **/\nexport const beforeUrlChange = {\n  _hooks: [],\n  subscribe: hookHandler\n}\n\nfunction hookHandler(listener) {\n  const hooks = this._hooks\n  const index = hooks.length\n  listener(callback => { hooks[index] = callback })\n  return () => delete hooks[index]\n}\n\n/**\n * We have to grab params and leftover from the context and not directly from the store.\n * Otherwise the context is updated before the component is destroyed. * \n * @typedef {Object.<string, *>} ParamsHelper\n * @typedef {import('svelte/store').Readable<ParamsHelper>} ParamsHelperStore\n * @type {ParamsHelperStore}\n **/\nexport const params = {\n  subscribe(run) {\n    const ctx = getRoutifyContext()\n    return derived(ctx, ctx => ctx.route.params).subscribe(run)\n  }\n}\n\n/**\n * @typedef {string} LeftoverHelper\n * @typedef {import('svelte/store').Readable<string>} LeftoverHelperStore\n * @type {LeftoverHelperStore} \n **/\nexport const leftover = {\n  subscribe(listener) {\n    return derived(\n      route,\n      route => route.leftover\n    ).subscribe(listener)\n  },\n}\n\n\n\n\n/**\n * @typedef {import('svelte/store').Readable<Meta>} MetaHelperStore \n * @type {MetaHelperStore}\n * */\nexport const meta = {\n  subscribe(listener) {\n    const ctx = getRoutifyContext()\n    return derived(ctx, ctx => ctx.layout.meta).subscribe(listener)\n  },\n}\n\n/**\n * @callback UrlHelper\n * @param {String=} path\n * @param {UrlParams=} params\n * @param {UrlOptions=} options\n * @return {String}\n *\n * @typedef {import('svelte/store').Readable<UrlHelper>} UrlHelperStore\n * @type {UrlHelperStore} \n * */\nexport const url = {\n  subscribe(listener) {\n    const ctx = getRoutifyContext()\n    return derived(\n      [ctx, route, routes, location],\n      args => makeUrlHelper(...args)\n    ).subscribe(\n      listener\n    )\n  }\n}\n\n/** \n * @param {{component: ClientNode}} $ctx \n * @param {RouteNode} $oldRoute \n * @param {RouteNode[]} $routes \n * @param {{base: string, path: string}} $location\n * @returns {UrlHelper}\n */\nexport function makeUrlHelper($ctx, $oldRoute, $routes, $location) {\n  return function url(path, params, options) {\n    const { component } = $ctx\n    path = path || './'\n\n    const strict = options && options.strict !== false\n    if (!strict) path = path.replace(/index$/, '')\n\n    if (path.match(/^\\.\\.?\\//)) {\n      //RELATIVE PATH\n      let [, breadcrumbs, relativePath] = path.match(/^([\\.\\/]+)(.*)/)\n      let dir = component.path.replace(/\\/$/, '')\n      const traverse = breadcrumbs.match(/\\.\\.\\//g) || []\n      traverse.forEach(() => dir = dir.replace(/\\/[^\\/]+\\/?$/, ''))\n      path = `${dir}/${relativePath}`.replace(/\\/$/, '')\n\n    } else if (path.match(/^\\//)) {\n      // ABSOLUTE PATH\n    } else {\n      // NAMED PATH\n      const matchingRoute = $routes.find(route => route.meta.name === path)\n      if (matchingRoute) path = matchingRoute.shortPath\n    }\n\n    /** @type {Object<string, *>} Parameters */\n    const allParams = Object.assign({}, $oldRoute.params, component.params, params)\n    let pathWithParams = path\n    for (const [key, value] of Object.entries(allParams)) {\n      pathWithParams = pathWithParams.replace(`:${key}`, value)\n    }\n\n    const fullPath = $location.base + pathWithParams + _getQueryString(path, params)\n    return fullPath.replace(/\\?$/, '')\n  }\n}\n\n/**\n * \n * @param {string} path \n * @param {object} params \n */\nfunction _getQueryString(path, params) {\n  if (!config.queryHandler) return \"\"\n  const pathParamKeys = pathToParamKeys(path)\n  const queryParams = {}\n  if (params) Object.entries(params).forEach(([key, value]) => {\n    if (!pathParamKeys.includes(key))\n      queryParams[key] = value\n  })\n  return config.queryHandler.stringify(queryParams)\n}\n\n/**\n* @callback GotoHelper\n* @param {String=} path\n* @param {UrlParams=} params\n* @param {GotoOptions=} options\n*\n* @typedef {import('svelte/store').Readable<GotoHelper>}  GotoHelperStore\n* @type {GotoHelperStore} \n* */\nexport const goto = {\n  subscribe(listener) {\n    return derived(url,\n      url => function goto(path, params, _static, shallow) {\n        const href = url(path, params)\n        if (!_static) history.pushState({}, null, href)\n        else getContext('routifyupdatepage')(href, shallow)\n      }\n    ).subscribe(\n      listener\n    )\n  },\n}\n\n/**\n * @type {GotoHelperStore} \n * */\nexport const redirect = {\n  subscribe(listener) {\n    return derived(url,\n      url => function redirect(path, params, _static, shallow) {\n        const href = url(path, params)\n        if (!_static) history.replaceState({}, null, href)\n        else getContext('routifyupdatepage')(href, shallow)\n      }\n    ).subscribe(\n      listener\n    )\n  },\n}\n\n/**\n * @callback IsActiveHelper\n * @param {String=} path\n * @param {UrlParams=} params\n * @param {UrlOptions=} options\n * @returns {Boolean}\n * \n * @typedef {import('svelte/store').Readable<IsActiveHelper>} IsActiveHelperStore\n * @type {IsActiveHelperStore} \n * */\nexport const isActive = {\n  subscribe(run) {\n    return derived(\n      [url, route],\n      ([url, route]) => function isActive(path = \"\", params = {}, { strict } = { strict: true }) {\n        path = url(path, null, { strict })\n        const currentPath = url(route.path, null, { strict })\n        const re = new RegExp('^' + path + '($|/)')\n        return !!currentPath.match(re)\n      }\n    ).subscribe(run)\n  },\n}\n\n/**\n * @param {string|ClientNodeApi} path \n * @param {*} options \n */\nexport function precache(path, options) {\n  const node = typeof path === 'string' ? urlToRoute(path) : path\n  node.component()\n}\n\n/**\n * @param {string|ClientNodeApi} path \n * @param {*} options \n */\nexport function prefetch(path, options) {\n  _prefetch(path, options)\n}\n\n/**\n * @typedef {[ClientNodeApi, ClientNodeApi, ClientNodeApi]} ConcestorReturn\n * @typedef {function(ClientNodeApi, ClientNodeApi):ConcestorReturn} GetConcestor\n * @type {GetConcestor}\n */\nexport function getConcestor(nodeApi1, nodeApi2) {\n  const node1 = nodeApi1.__file\n  const node2 = nodeApi2.__file\n\n  // The route is the last piece of layout\n  const lineage1 = [...node1.lineage, node1]\n  const lineage2 = [...node2.lineage, node2]\n\n  let concestor = lineage1[0] //root\n  let children = [lineage1[0].api, lineage2[0].api]\n  // iterate through the layouts starting from the root\n  lineage1.forEach((n1, i) => {\n    const n2 = lineage2[i]\n    if (n2 && n1.parent === n2.parent) {\n      concestor = n1.parent\n      children = [n1.api, n2.api]\n    }\n  })\n  return [concestor.api, children[0], children[1]]\n}\n\n/**\n * Get index difference between two paths\n *\n * @export\n * @param {array} paths\n * @param {object} newPath\n * @param {object} oldPath\n * @returns {number}\n */\nexport function getDirection(paths, newPath, oldPath) {\n  const newIndex = paths.findIndex(path => newPath.path.startsWith(path))\n  const oldIndex = paths.findIndex(path => oldPath.path.startsWith(path))\n  return newIndex - oldIndex\n}\n\n/**\n * Sets element to active\n * @typedef {function(HTMLElement):void} FocusHelper\n * @type {FocusHelper}\n */\nexport function focus(element) {\n  if (!focusIsSet) {\n    focusIsSet = true\n    element.setAttribute('tabindex', \"0\")\n    element.focus()\n    setTimeout(() => (focusIsSet = false))\n  }\n}\nlet focusIsSet = false\n\n\n\nconst _metatags = {\n  props: {},\n  templates: {},\n  services: {\n    plain: { propField: 'name', valueField: 'content' },\n    twitter: { propField: 'name', valueField: 'content' },\n    og: { propField: 'property', valueField: 'content' },\n  },\n  plugins: [\n    {\n      name: 'applyTemplate',\n      condition: () => true,\n      action: (prop, value) => {\n        const template = _metatags.getLongest(_metatags.templates, prop) || (x => x)\n        return [prop, template(value)]\n      }\n    },\n    {\n      name: 'createMeta',\n      condition: () => true,\n      action(prop, value) {\n        _metatags.writeMeta(prop, value)\n      }\n    },\n    {\n      name: 'createOG',\n      condition: prop => !prop.match(':'),\n      action(prop, value) {\n        _metatags.writeMeta(`og:${prop}`, value)\n      }\n    },\n    {\n      name: 'createTitle',\n      condition: prop => prop === 'title',\n      action(prop, value) {\n        document.title = value;\n      }\n    }\n  ],\n  getLongest(repo, name) {\n    const providers = repo[name]\n    if (providers) {\n      const currentPath = get(route).path\n      const allPaths = Object.keys(repo[name])\n      const matchingPaths = allPaths.filter(path => currentPath.includes(path))\n\n      const longestKey = matchingPaths.sort((a, b) => b.length - a.length)[0]\n\n      return providers[longestKey]\n    }\n  },\n  writeMeta(prop, value) {\n    const head = document.getElementsByTagName('head')[0]\n    const match = prop.match(/(.+)\\:/)\n    const serviceName = match && match[1] || 'plain'\n    const { propField, valueField } = metatags.services[serviceName] || metatags.services.plain\n    const oldElement = document.querySelector(`meta[${propField}='${prop}']`)\n    if (oldElement) oldElement.remove()\n\n    const newElement = document.createElement('meta')\n    newElement.setAttribute(propField, prop)\n    newElement.setAttribute(valueField, value)\n    newElement.setAttribute('data-origin', 'routify')\n    head.appendChild(newElement)\n  },\n  set(prop, value) {\n    _metatags.plugins.forEach(plugin => {\n      if (plugin.condition(prop, value))\n        [prop, value] = plugin.action(prop, value) || [prop, value]\n    })\n  },\n  clear() {\n    const oldElement = document.querySelector(`meta`)\n    if (oldElement) oldElement.remove()\n  },\n  template(name, fn) {\n    const origin = _metatags.getOrigin()\n    _metatags.templates[name] = _metatags.templates[name] || {}\n    _metatags.templates[name][origin] = fn\n  },\n  update() {\n    Object.keys(_metatags.props).forEach((prop) => {\n      let value = (_metatags.getLongest(_metatags.props, prop))\n      _metatags.plugins.forEach(plugin => {\n        if (plugin.condition(prop, value)) {\n          [prop, value] = plugin.action(prop, value) || [prop, value]\n\n        }\n      })\n    })\n  },\n  batchedUpdate() {\n    if (!_metatags._pendingUpdate) {\n      _metatags._pendingUpdate = true\n      setTimeout(() => {\n        _metatags._pendingUpdate = false\n        this.update()\n      })\n    }\n  },\n  _updateQueued: false,\n  getOrigin() {\n    const routifyCtx = getRoutifyContext()\n    return routifyCtx && get(routifyCtx).path || '/'\n  },\n  _pendingUpdate: false\n}\n\n\n/**\n * metatags\n * @prop {Object.<string, string>}\n */\nexport const metatags = new Proxy(_metatags, {\n  set(target, name, value, receiver) {\n    const { props, getOrigin } = target\n\n    if (Reflect.has(target, name))\n      Reflect.set(target, name, value, receiver)\n    else {\n      props[name] = props[name] || {}\n      props[name][getOrigin()] = value\n    }\n\n    if (window['routify'].appLoaded)\n      target.batchedUpdate()\n    return true\n  }\n})\n\nexport const isChangingPage = (function () {\n  const store = writable(false)\n  beforeUrlChange.subscribe(fn => fn(event => {\n    store.set(true)\n    return true\n  }))\n  \n  afterPageLoad.subscribe(fn => fn(event => store.set(false)))\n\n  return store\n})()","<script>\n  // @ts-check\n  /** @typedef {{component():*, path: string}} Decorator */\n  /** @typedef {ClientNode | Decorator} LayoutOrDecorator */\n  /**\n   * @typedef {Object} Context\n   * @prop {ClientNode} layout\n   * @prop {ClientNode} component\n   * @prop {LayoutOrDecorator} child\n   * @prop {SvelteComponent} ComponentFile\n   * */\n\n  import '../typedef.js'\n  import { getContext, setContext, onDestroy, onMount, tick } from 'svelte'\n  import { writable, get } from 'svelte/store'\n  import { metatags, afterPageLoad } from './helpers.js'\n  import { route, routes, rootContext } from './store'\n  import { handleScroll } from './utils'\n  import { onAppLoaded } from './utils/onAppLoaded.js'\n\n  /** @type {LayoutOrDecorator[]} */\n  export let layouts = []\n  export let scoped = {}\n  export let Decorator = null\n  export let childOfDecorator = false\n  export let isRoot = false\n\n  let scopedSync = {}\n  let isDecorator = false\n\n  /** @type {HTMLElement} */\n  let parentElement\n\n  /** @type {LayoutOrDecorator} */\n  let layout = null\n\n  /** @type {LayoutOrDecorator} */\n  let lastLayout = null\n\n  /** @type {LayoutOrDecorator[]} */\n  let remainingLayouts = []\n\n  const context = writable(null)\n\n  /** @type {import(\"svelte/store\").Writable<Context>} */\n  const parentContextStore = getContext('routify')\n\n  isDecorator = Decorator && !childOfDecorator\n  setContext('routify', context)\n\n  $: if (isDecorator) {\n    const decoratorLayout = {\n      component: () => Decorator,\n      path: `${layouts[0].path}__decorator`,\n      isDecorator: true,\n    }\n    layouts = [decoratorLayout, ...layouts]\n  }\n\n  $: [layout, ...remainingLayouts] = layouts\n\n  /** @param {HTMLElement} el */\n  function setParent(el) {\n    parentElement = el.parentElement\n  }\n\n  /** @param {SvelteComponent} componentFile */\n  function onComponentLoaded(componentFile) {\n    /** @type {Context} */\n    const parentContext = get(parentContextStore)\n\n    scopedSync = { ...scoped }\n    lastLayout = layout\n    if (remainingLayouts.length === 0) onLastComponentLoaded()\n    const ctx = {\n      layout: isDecorator ? parentContext.layout : layout,\n      component: layout,\n      route: $route,\n      componentFile,\n      child: isDecorator\n        ? parentContext.child\n        : get(context) && get(context).child,\n    }\n    context.set(ctx)\n    if (isRoot) rootContext.set(ctx)\n\n    if (parentContext && !isDecorator)\n      parentContextStore.update(store => {\n        store.child = layout || store.child\n        return store\n      })\n  }\n\n  /**  @param {LayoutOrDecorator} layout */\n  function setComponent(layout) {\n    let PendingComponent = layout.component()\n    if (PendingComponent instanceof Promise)\n      PendingComponent.then(onComponentLoaded)\n    else onComponentLoaded(PendingComponent)\n  }\n  $: setComponent(layout)\n\n  async function onLastComponentLoaded() {\n    afterPageLoad._hooks.forEach(hook => hook(layout.api))\n    await tick()\n    handleScroll(parentElement)\n    if (!window['routify'].appLoaded) {\n      const pagePath = $context.component.path\n      const routePath = $route.path\n      const isOnCurrentRoute = pagePath === routePath //maybe we're getting redirected\n\n      // Let everyone know the last child has rendered\n      if (!window['routify'].stopAutoReady && isOnCurrentRoute) {\n        onAppLoaded({ path: pagePath, metatags })\n      }\n    }\n  }\n</script>\n\n{#if $context}\n  {#if $context.component.isLayout === false}\n    {#each [$context] as { component, componentFile } (component.path)}\n      <svelte:component\n        this={componentFile}\n        let:scoped={scopeToChild}\n        let:decorator\n        {scoped}\n        {scopedSync}\n        {...layout.param || {}} />\n    {/each}\n    <!-- we need to check for remaining layouts, in case this component is a destroyed layout -->\n  {:else if remainingLayouts.length}\n    {#each [$context] as { component, componentFile } (component.path)}\n      <svelte:component\n        this={componentFile}\n        let:scoped={scopeToChild}\n        let:decorator\n        {scoped}\n        {scopedSync}\n        {...layout.param || {}}>\n        <svelte:self\n          layouts={[...remainingLayouts]}\n          Decorator={typeof decorator !== 'undefined' ? decorator : Decorator}\n          childOfDecorator={layout.isDecorator}\n          scoped={{ ...scoped, ...scopeToChild }} />\n      </svelte:component>\n    {/each}\n  {/if}\n{/if}\n\n<!-- get the parent element for scroll functionality -->\n{#if !parentElement}\n  <span use:setParent />\n{/if}\n","export function onAppLoaded({ path, metatags }) {\n    metatags.update()\n    const prefetchMatch = window.location.search.match(/__routify_prefetch=(\\d+)/)\n    const prefetchId = prefetchMatch && prefetchMatch[1]\n\n    dispatchEvent(new CustomEvent('app-loaded'))\n    parent.postMessage({\n        msg: 'app-loaded',\n        prefetched: window.routify.prefetched,\n        path,\n        prefetchId\n    }, \"*\")\n    window['routify'].appLoaded = true\n}\n","import * as stores from './store'\nimport { get } from 'svelte/store'\nimport { beforeUrlChange } from './helpers'\nimport { urlToRoute } from './utils/urlToRoute'\nimport { currentLocation } from './utils'\n\nexport function init(routes, callback) {\n  /** @type { ClientNode | false } */\n  let lastRoute = false\n\n  function updatePage(proxyToUrl, shallow) {\n    const url = proxyToUrl || currentLocation()\n    const route = urlToRoute(url, routes)\n    const currentRoute = shallow && urlToRoute(currentLocation(), routes)\n    const contextRoute = currentRoute || route\n    const layouts = [...contextRoute.layouts, route]\n    if (lastRoute) delete lastRoute.last //todo is a page component the right place for the previous route?\n    route.last = lastRoute\n    lastRoute = route\n\n    //set the route in the store\n    if (!proxyToUrl)\n      stores.urlRoute.set(route)\n    stores.route.set(route)\n\n    //run callback in Router.svelte\n    callback(layouts)\n  }\n\n  const destroy = createEventListeners(updatePage)\n\n  return { updatePage, destroy }\n}\n\n/**\n * svelte:window events doesn't work on refresh\n * @param {Function} updatePage\n */\nfunction createEventListeners(updatePage) {\n  // history.*state\n  ;['pushState', 'replaceState'].forEach(eventName => {\n    const fn = history[eventName]\n    history[eventName] = async function (state = {}, title, url) {\n      const { id, path, params } = get(stores.route)\n      state = { id, path, params, ...state }\n      const event = new Event(eventName.toLowerCase())\n      Object.assign(event, { state, title, url })\n\n      if (await runHooksBeforeUrlChange(event)) {\n        fn.apply(this, [state, title, url])\n        return dispatchEvent(event)\n      }\n    }\n  })\n\n  let _ignoreNextPop = false\n\n  const listeners = {\n    click: handleClick,\n    pushstate: () => updatePage(),\n    replacestate: () => updatePage(),\n    popstate: async event => {\n      if (_ignoreNextPop)\n        _ignoreNextPop = false\n      else {\n        if (await runHooksBeforeUrlChange(event)) {\n          updatePage()\n        } else {\n          _ignoreNextPop = true\n          event.preventDefault()\n          history.go(1)\n        }\n      }\n    },\n  }\n\n  Object.entries(listeners).forEach(args => addEventListener(...args))\n\n  const unregister = () => {\n    Object.entries(listeners).forEach(args => removeEventListener(...args))\n  }\n\n  return unregister\n}\n\nfunction handleClick(event) {\n  const el = event.target.closest('a')\n  const href = el && el.getAttribute('href')\n\n  if (\n    event.ctrlKey ||\n    event.metaKey ||\n    event.altKey ||\n    event.shiftKey ||\n    event.button ||\n    event.defaultPrevented\n  )\n    return\n  if (!href || el.target || el.host !== location.host) return\n\n  event.preventDefault()\n  history.pushState({}, '', href)\n}\n\nasync function runHooksBeforeUrlChange(event) {\n  const route = get(stores.route)\n  for (const hook of beforeUrlChange._hooks.filter(Boolean)) {\n    // return false if the hook returns false\n    const result = await hook(event, route) //todo remove route from hook. Its API Can be accessed as $page\n    if (!result) return false\n  }\n  return true\n}\n\n","<script>\n  import { setContext, onDestroy } from 'svelte'\n  import Route from './Route.svelte'\n  import Prefetcher from './Prefetcher.svelte'\n  import { init } from './navigator.js'\n  import { route, routes as routesStore, prefetchPath } from './store.js'\n  import { suppressWarnings } from './utils'\n  import defaultConfig from '../runtime.config'\n\n  export let routes\n  export let config = {}\n\n  let layouts\n  let navigator\n\n  window.routify = window.routify || {}\n  window.routify.inBrowser = !window.navigator.userAgent.match('jsdom')\n\n  Object.entries(config).forEach(([key, value]) => {\n    defaultConfig[key] = value\n  })\n\n  suppressWarnings()\n\n\n  const updatePage = (...args) => navigator && navigator.updatePage(...args)\n\n  setContext('routifyupdatepage', updatePage)\n\n  const callback = res => (layouts = res)\n\n  const cleanup = () => {\n    if (!navigator) return\n    navigator.destroy()\n    navigator = null\n  }\n\n  let initTimeout = null\n\n  // init is async to prevent a horrible bug that completely disable reactivity\n  // in the host component -- something like the component's update function is\n  // called before its fragment is created, and since the component is then seen\n  // as already dirty, it is never scheduled for update again, and remains dirty\n  // forever... I failed to isolate the precise conditions for the bug, but the\n  // faulty update is triggered by a change in the route store, and so offseting\n  // store initialization by one tick gives the host component some time to\n  // create its fragment. The root cause it probably a bug in Svelte with deeply\n  // intertwinned store and reactivity.\n  const doInit = () => {\n    clearTimeout(initTimeout)\n    initTimeout = setTimeout(() => {\n      cleanup()\n      navigator = init(routes, callback)\n      routesStore.set(routes)\n      navigator.updatePage()\n    })\n  }\n\n  $: if (routes) doInit()\n\n  onDestroy(cleanup)\n</script>\n\n{#if layouts && $route !== null}\n  <Route {layouts} isRoot={true} />\n{/if}\n\n\n<Prefetcher />","/** \n * Node payload\n * @typedef {Object} NodePayload\n * @property {RouteNode=} file current node\n * @property {RouteNode=} parent parent of the current node\n * @property {StateObject=} state state shared by every node in the walker\n * @property {Object=} scope scope inherited by descendants in the scope\n *\n * State Object\n * @typedef {Object} StateObject\n * @prop {TreePayload=} treePayload payload from the tree\n * \n * Node walker proxy\n * @callback NodeWalkerProxy\n * @param {NodePayload} NodePayload\n */\n\n\n/**\n * Node middleware\n * @description Walks through the nodes of a tree\n * @example middleware = createNodeMiddleware(payload => {payload.file.name = 'hello'})(treePayload))\n * @param {NodeWalkerProxy} fn \n */\nfunction createNodeMiddleware(fn) {\n\n    /**    \n     * NodeMiddleware payload receiver\n     * @param {TreePayload} payload\n     */\n    const inner = async function execute(payload) {\n        return await nodeMiddleware(payload.tree, fn, { state: { treePayload: payload } })\n    }\n\n    /**    \n     * NodeMiddleware sync payload receiver\n     * @param {TreePayload} payload\n     */\n    inner.sync = function executeSync(payload) {\n        return nodeMiddlewareSync(payload.tree, fn, { state: { treePayload: payload } })\n    }\n\n    return inner\n}\n\n/**\n * Node walker\n * @param {Object} file mutable file\n * @param {NodeWalkerProxy} fn function to be called for each file\n * @param {NodePayload=} payload \n */\nasync function nodeMiddleware(file, fn, payload) {\n    const { state, scope, parent } = payload || {}\n    payload = {\n        file,\n        parent,\n        state: state || {},            //state is shared by all files in the walk\n        scope: clone(scope || {}),     //scope is inherited by descendants\n    }\n\n    await fn(payload)\n\n    if (file.children) {\n        payload.parent = file\n        await Promise.all(file.children.map(_file => nodeMiddleware(_file, fn, payload)))\n    }\n    return payload\n}\n\n/**\n * Node walker (sync version)\n * @param {Object} file mutable file\n * @param {NodeWalkerProxy} fn function to be called for each file\n * @param {NodePayload=} payload \n */\nfunction nodeMiddlewareSync(file, fn, payload) {\n    const { state, scope, parent } = payload || {}\n    payload = {\n        file,\n        parent,\n        state: state || {},            //state is shared by all files in the walk\n        scope: clone(scope || {}),     //scope is inherited by descendants\n    }\n\n    fn(payload)\n\n    if (file.children) {\n        payload.parent = file\n        file.children.map(_file => nodeMiddlewareSync(_file, fn, payload))\n    }\n    return payload\n}\n\n\n/**\n * Clone with JSON\n * @param {T} obj \n * @returns {T} JSON cloned object\n * @template T\n */\nfunction clone(obj) { return JSON.parse(JSON.stringify(obj)) }\n\nexport {\n    nodeMiddleware,\n    nodeMiddlewareSync,\n    createNodeMiddleware\n}\n","import { createNodeMiddleware } from '../middleware'\nimport { pathToParamKeys, pathToRank, pathToRegex } from '../utils'\n\nexport const setRegex = createNodeMiddleware(({ file }) => {\n    if (file.isPage || file.isFallback)\n        file.regex = pathToRegex(file.path, file.isFallback)\n})\nexport const setParamKeys = createNodeMiddleware(({ file }) => {\n    file.paramKeys = pathToParamKeys(file.path)\n})\n\nexport const setShortPath = createNodeMiddleware(({ file }) => {\n    if (file.isFallback || file.isIndex)\n        file.shortPath = file.path.replace(/\\/[^/]+$/, '')\n    else file.shortPath = file.path\n})\nexport const setRank = createNodeMiddleware(({ file }) => {\n    file.ranking = pathToRank(file)\n})\n\n\n// todo delete?\nexport const addMetaChildren = createNodeMiddleware(({ file }) => {\n    const node = file\n    const metaChildren = file.meta && file.meta.children || []\n    if (metaChildren.length) {\n        node.children = node.children || []\n        node.children.push(...metaChildren.map(meta => ({ isMeta: true, ...meta, meta })))\n    }\n})\n\nexport const setIsIndexable = createNodeMiddleware(payload => {\n    const { file } = payload\n    const { isLayout, isFallback, meta } = file\n    file.isIndexable = !isLayout && !isFallback && meta.index !== false\n    file.isNonIndexable = !file.isIndexable\n})\n\n\nexport const assignRelations = createNodeMiddleware(({ file, parent }) => {\n    Object.defineProperty(file, 'parent', { get: () => parent })\n    Object.defineProperty(file, 'nextSibling', { get: () => _getSibling(file, 1) })\n    Object.defineProperty(file, 'prevSibling', { get: () => _getSibling(file, -1) })\n    Object.defineProperty(file, 'lineage', { get: () => _getLineage(parent) })\n})\n\nfunction _getLineage(node, lineage = []){\n    if(node){\n        lineage.unshift(node)\n        _getLineage(node.parent, lineage)\n    }\n    return lineage\n}\n\n/**\n * \n * @param {RouteNode} file \n * @param {Number} direction \n */\nfunction _getSibling(file, direction) {\n    if (!file.root) {\n        const siblings = file.parent.children.filter(c => c.isIndexable)\n        const index = siblings.indexOf(file)\n        return siblings[index + direction]\n    }\n}\n\nexport const assignIndex = createNodeMiddleware(({ file, parent }) => {\n    if (file.isIndex) Object.defineProperty(parent, 'index', { get: () => file })\n    if (file.isLayout)\n        Object.defineProperty(parent, 'layout', { get: () => file })\n})\n\nexport const assignLayout = createNodeMiddleware(({ file, scope }) => {\n    Object.defineProperty(file, 'layouts', { get: () => getLayouts(file) })\n    function getLayouts(file) {\n        const { parent } = file\n        const layout = parent && parent.layout\n        const isReset = layout && layout.isReset\n        const layouts = (parent && !isReset && getLayouts(parent)) || []\n        if (layout) layouts.push(layout)\n        return layouts\n    }\n})\n\n\nexport const createFlatList = treePayload => {\n    createNodeMiddleware(payload => {\n        if (payload.file.isPage || payload.file.isFallback)\n        payload.state.treePayload.routes.push(payload.file)\n    }).sync(treePayload)    \n    treePayload.routes.sort((c, p) => (c.ranking >= p.ranking ? -1 : 1))\n}\n\nexport const setPrototype = createNodeMiddleware(({ file }) => {\n    const Prototype = file.root\n        ? Root\n        : file.children\n            ? file.isFile ? PageDir : Dir\n            : file.isReset\n                ? Reset\n                : file.isLayout\n                    ? Layout\n                    : file.isFallback\n                        ? Fallback\n                        : Page\n    Object.setPrototypeOf(file, Prototype.prototype)\n\n    function Layout() { }\n    function Dir() { }\n    function Fallback() { }\n    function Page() { }\n    function PageDir() { }\n    function Reset() { }\n    function Root() { }\n})\n","import { createNodeMiddleware } from '../middleware'\nexport const assignAPI = createNodeMiddleware(({ file }) => {\n    file.api = new ClientApi(file)\n})\n\nclass ClientApi {\n    constructor(file) {\n        this.__file = file\n        Object.defineProperty(this, '__file', { enumerable: false })\n        this.isMeta = !!file.isMeta\n        this.path = file.path\n        this.title = _prettyName(file)\n        this.meta = file.meta\n    }\n\n    get parent() { return !this.__file.root && this.__file.parent.api }\n    get children() {\n        return (this.__file.children || this.__file.isLayout && this.__file.parent.children || [])\n            .filter(c => !c.isNonIndexable)\n            .sort((a, b) => {\n                if(a.isMeta && b.isMeta) return 0\n                a = (a.meta.index || a.meta.title || a.path).toString()\n                b = (b.meta.index || b.meta.title || b.path).toString()\n                return a.localeCompare((b), undefined, { numeric: true, sensitivity: 'base' })\n            })\n            .map(({ api }) => api)\n    }\n    get next() { return _navigate(this, +1) }\n    get prev() { return _navigate(this, -1) }\n    preload() {\n        this.__file.layouts.forEach(file => file.component())\n        this.__file.component() \n    }\n}\n\nfunction _navigate(node, direction) {\n    if (!node.__file.root) {\n        const siblings = node.parent.children\n        const index = siblings.indexOf(node)\n        return node.parent.children[index + direction]\n    }\n}\n\n\nfunction _prettyName(file) {\n    if (typeof file.meta.title !== 'undefined') return file.meta.title\n    else return (file.shortPath || file.path)\n        .split('/')\n        .pop()\n        .replace(/-/g, ' ')\n}\n\n","\n\nimport * as miscPlugins from './plugins/tree'\nimport { assignAPI } from './plugins/assignAPI'\n\nconst plugins = {...miscPlugins, assignAPI}\n\nexport function buildClientTree(tree) {\n  const order = [\n    // pages\n    \"setParamKeys\", //pages only\n    \"setRegex\", //pages only\n    \"setShortPath\", //pages only\n    \"setRank\", //pages only\n    \"assignLayout\", //pages only,\n    // all\n    \"setPrototype\",\n    \"addMetaChildren\",\n    \"assignRelations\", //all (except meta components?)\n    \"setIsIndexable\", //all\n    \"assignIndex\", //all\n    \"assignAPI\", //all\n    // routes\n    \"createFlatList\"\n  ]\n\n  const payload = { tree, routes: [] }\n  for (let name of order) {\n    const syncFn = plugins[name].sync || plugins[name]\n    syncFn(payload)\n  }\n  return payload\n}","import { writable } from 'svelte/store'\n\nexport const actions = writable([])\nexport const activeAction = writable('')\nexport const colorPalette = writable([])","<script>\n  export let title = ''\n  export let action = () => {}\n  export let active = false\n</script>\n\n<style>\n  button {\n    background: var(--textColor);\n    padding: calc(.5 * var(--borderSize));\n    border: calc(.5 * var(--borderSize)) solid var(--backgroundColor);\n    cursor: pointer;\n    border-radius: 50%;\n    margin-left: 1rem;\n  }\n\n  button :global(svg) {\n    display: block;\n    height: 1.25rem;\n    width: 1.25rem;\n  }\n\n  button :global(svg * ) {\n    fill: var(--backgroundColor);\n  }\n\n  button.active {\n    background: var(--backgroundColor);\n  }\n\n  button.active :global(svg * ) {\n    fill: var(--textColor);\n  }\n</style>\n\n<button\n  title={title}\n  on:click={action}\n  class:active={active}\n>\n  <slot />\n</button>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\">\n  <g>\n    <path d=\"M237.82,150A87.82,87.82,0,1,1,150,62.18,87.82,87.82,0,0,1,237.82,150\"/>\n    <polygon points=\"126.05 253.36 173.95 253.36 150 300 126.05 253.36\"/>\n    <polygon points=\"173.95 46.64 126.05 46.64 150 0 173.95 46.64\"/>\n    <polygon points=\"59.66 206.3 93.7 240.34 44.12 255.88 59.66 206.3\"/>\n    <polygon points=\"240.34 93.7 206.3 59.66 255.88 44.12 240.34 93.7\"/>\n    <polygon points=\"46.64 126.05 46.64 173.95 0 150 46.64 126.05\"/>\n    <polygon points=\"253.36 173.95 253.36 126.05 300 150 253.36 173.95\"/>\n    <polygon points=\"93.7 59.66 59.66 93.7 44.12 44.12 93.7 59.66\"/>\n    <polygon points=\"206.3 240.34 240.34 206.3 255.88 255.88 206.3 240.34\"/>\n  </g>\n</svg>\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\">\n  <path d=\"M300.13,149.81c0,82.4-67.38,149.46-150.11,149.46C71,299.27,5.25,237.89-.1,159.5a9.71,9.71,0,0,1,6-9.67,10.24,10.24,0,0,1,11.34,2C36.92,171.51,61,182.2,85,182.2a96.45,96.45,0,0,0,96.4-96.4c0-24.36-10.67-48.37-30.36-68a9.73,9.73,0,0,1-2-11,10.76,10.76,0,0,1,9.67-6c79.41,4.32,141.46,70,141.46,149.09Z\"/>\n</svg>\n","<script>\n  import { onMount, beforeUpdate } from 'svelte' \n  import Button from './button.svelte'\n\n  import Sun from '../../static/icons/sun.svg'\n  import Moon from '../../static/icons/moon.svg'\n\n  let localStorage\n  let darkMode\n  let root\n\n  const dark = '#212121'\n  const light = '#efefef'\n  \n  const checkDarkMode = () => {\n    return localStorage && localStorage.getItem('darkMode') === 'true' ? true : false\n  }\n\n  const toggleDarkMode = () => {\n    localStorage &&localStorage.setItem('darkMode', !darkMode)\n    darkMode = checkDarkMode()\n  }\n  \n  const setDarkModeCSS = (darkMode) => {\n    if (!!darkMode) {\n      root.style.setProperty('--textColor', light);\n      root.style.setProperty('--backgroundColor', dark);\n    } else {\n      root.style.setProperty('--textColor', dark);\n      root.style.setProperty('--backgroundColor', light);\n    }\n  }\n  \n  beforeUpdate(() => {\n    localStorage = window.localStorage\n    darkMode = checkDarkMode()\n    root = document.documentElement\n  })\n\n  $: checkDarkMode()\n  $: root && setDarkModeCSS(darkMode)\n</script>\n\n<Button\n  title='toggle dark mode'\n  action={toggleDarkMode}\n>\n  <svelte:component this={!!darkMode ? Moon : Sun}/>\n</Button>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\">\n  <path d=\"M150,0a19.74,19.74,0,0,0-19.74,19.74V130.26H19.74a19.74,19.74,0,0,0,0,39.48H130.26V280.26a19.74,19.74,0,0,0,39.48,0V169.74H280.26a19.74,19.74,0,0,0,0-39.48H169.74V19.74A19.74,19.74,0,0,0,150,0Z\"/>\n</svg>\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\">\n  <g>\n    <path d=\"M295.63,139.77,235.7,79.84A15,15,0,0,0,214.53,101l49.31,49.31-49.37,49.37a15,15,0,0,0,0,21.18c4.6,4.6,16,5.19,21.17,0l59.93-59.93a14.94,14.94,0,0,0,.06-21.18Z\"/>\n    <path d=\"M85.88,79.81a15,15,0,0,0-21.17,0l-60,59.93a15,15,0,0,0,0,21.17l59.93,60c5.19,5.19,16.58,4.6,21.18,0a15,15,0,0,0,0-21.18L36.52,150.41,85.89,101a15.05,15.05,0,0,0,0-21.23Z\"/>\n    <path d=\"M192.11,15.93a14.91,14.91,0,0,0-18.75,9.85L98.45,265.49c-2.48,7.9,1.83,16.57,9.85,18.76,8.55,2.3,16.75-3.43,18.75-9.85L202,34.69A15,15,0,0,0,192.11,15.93Z\"/>\n  </g>\n</svg>\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\">\n  <g>\n    <path d=\"M58.23,126.88A11,11,0,0,0,60,138.6L141.84,231a11.27,11.27,0,0,0,16.32,0L240,138.6a10.91,10.91,0,0,0-8.16-18.15H182.73V21.91A10.9,10.9,0,0,0,171.82,11H128.18a10.9,10.9,0,0,0-10.91,10.91v98.54H68.18a10.92,10.92,0,0,0-10,6.43Z\"/>\n    <path d=\"M0,272.64A16.37,16.37,0,0,0,16.36,289H283.64a16.36,16.36,0,0,0,0-32.72H16.36A16.37,16.37,0,0,0,0,272.64Z\"/>\n  </g>\n</svg>\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\">\n  <path d=\"M247.63,101.62,198.51,52.5l27.88-27.88c5.42.61,17,3.68,31,17.7,14.25,14.24,17.43,26,18.09,31.44ZM28.06,272.09l12.43-61.56.94-.94,49.12,49.12-.94.94Zm79.75-30.64L58.68,192.33,181.25,69.76l49.12,49.12ZM274.63,25.08c-21.75-21.75-41-25-50.57-25a27.52,27.52,0,0,0-4.9.37,12.1,12.1,0,0,0-6.49,3.39l-40,40s0,0,0,0L32.81,183.69h0L20.62,195.88a12.11,12.11,0,0,0-3.33,6.22L.48,285.28a12.21,12.21,0,0,0,12,14.63,12.49,12.49,0,0,0,2.42-.24l83.19-16.82a12.12,12.12,0,0,0,6.2-3.33l192.05-192a12.15,12.15,0,0,0,3.43-6.8c.42-2.72,3.22-27.28-25.1-55.6Z\"/>\n</svg>\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\">\n  <path d=\"M150,176.25a26.25,26.25,0,1,1-26.25,26.25A26.08,26.08,0,0,1,150,176.25Zm0-22.5a48.75,48.75,0,1,0,48.75,48.75A48.92,48.92,0,0,0,150,153.75ZM78.75,22.5h127.5V105H78.75Zm-52.5,0h30v93.75A11.25,11.25,0,0,0,67.5,127.5h150a11.25,11.25,0,0,0,11.25-11.25V27.19L277.5,75.94V273.75a3.52,3.52,0,0,1-3.75,3.75H26.25a3.52,3.52,0,0,1-3.75-3.75V26.25A3.52,3.52,0,0,1,26.25,22.5Zm0-22.5A26.45,26.45,0,0,0,0,26.25v247.5A26.45,26.45,0,0,0,26.25,300h247.5A26.45,26.45,0,0,0,300,273.75V71.25a11.26,11.26,0,0,0-3.28-8l-60-60a11.26,11.26,0,0,0-8-3.28Z\"/>\n</svg>\n","<script>\n  import { onMount, beforeUpdate } from 'svelte' \n  import { actions, activeAction } from '../stores.js'\n  import Button from './button.svelte'\n  import DarkMode from './dark-mode.svelte'\n\n  import Add from '../../static/icons/add.svg'\n  import Code from '../../static/icons/code.svg'\n  import Download from '../../static/icons/download.svg'\n  import Edit from '../../static/icons/edit.svg'\n  import Save from '../../static/icons/save.svg'\n\n  const icons = {\n    add: Add,\n    code: Code,\n    download: Download,\n    edit: Edit,\n    save: Save,\n  }\n\n  let buttons\n  let currentAction\n  actions.subscribe(actions => {\n    buttons = actions\n  })\n\n  activeAction.subscribe(activeAction => {\n    currentAction = activeAction\n  })\n\n</script>\n\n<style>\n  ul {\n    display: flex;\n    margin: 0;\n    padding: 0;\n    list-style: none;\n  }\n</style>\n\n<ul>\n  {#each buttons as button}\n    <li>\n      <Button\n        title={button.text}\n        action={button.action}\n        active={button.active || currentAction === button.title}\n      >\n        <svelte:component this={icons[button.icon]}/>\n      </Button>\n    </li>\n  {/each}\n  <li>\n    <DarkMode />\n  </li>\n</ul>","<script>\n  import { activeAction, colorPalette } from '../stores.js'\n  import Button from './button.svelte'\n  import Save from '../../static/icons/save.svg'\n\n  let action\n  activeAction.subscribe(currentAction => {\n    action = currentAction\n  })\n\n  const clickOutside = (node) => {  \n    const handleClick = event => {\n      if (node && !node.contains(event.target)) {\n        node.dispatchEvent(new CustomEvent('clickOutside', node))\n      }\n    }\n  \tdocument.addEventListener('click', handleClick, true);\n    return { destroy() { document.removeEventListener('click', handleClick, true) }}\n  }\n\n  const handleClearAction = () => {\n    if (action !== 'editColors' ) {\n      return activeAction.set('')\n    }\n  }\n\n  let colors\n  colorPalette.subscribe(currentColorPalette => {\n    colors = currentColorPalette\n  })\n\n  let newOwner = ''\n  let newPalette = ''\n  let newColor = {name: '', value: ''}\n  let jsonCode = ''\n\n  const sanityCreate = data => {\n    fetch('/.netlify/functions/sanity', {\n      method: 'POST', \n      credentials: 'same-origin',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data)\n    }).then(response => response.json())\n    .then(response => console.log('response', response))\n    .catch(error => console.log('error', error))\n  }\n\n  const createNewOwner = () => {\n    sanityCreate({\n      _type: 'owner',\n      name: newOwner,\n    })\n  }\n</script>\n\n<style>\n  section {\n    color: var(--textColor);\n    background-color: var(--backgroundColor);\n    padding: calc(4 * var(--borderSize)) calc(2 * var(--borderSize));\n    display: flex;\n    gap: calc(4 * var(--borderSize));\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    font-size: 1em;\n  }\n\n  label {\n    color: var(--textColor);\n    display: flex;\n    gap: calc(2* var(--borderSize));\n    flex-direction: row-reverse;\n    align-items: center;\n  }\n\n  input,\n  textarea {\n    color: var(--backgroundColor);\n    background-color: var(--textColor);\n    padding: calc(2 * var(--borderSize));\n    border: none;\n    font-size: 1.25em;\n  }\n\n  textarea {\n    font-size: 1rem;\n    box-sizing: border-box;\n    resize: none;\n    width: 50ch;\n  }\n\n  section :global(button) {\n    padding: calc(2 * var(--borderSize));\n  }\n  section :global(button svg) {\n    height: 2rem;\n    width: 2rem;\n  }\n</style>\n\n{#if !!action}\n  <section use:clickOutside on:clickOutside={handleClearAction}>\n    {#if action === 'addUser'}\n      <label for='new-owner'>\n        <input \n          type=\"text\"\n          id='new-owner'\n          name='new-owner'\n          bind:value={newOwner}\n        />\n        <span>add a new user:</span>\n      </label>\n      <Button\n        text='save user'\n        action={createNewOwner}\n      >\n        <Save />\n      </Button>\n    {:else if action === 'addPalette'}\n      <label for='new-palette'>\n        <input \n          type=\"text\"\n          id='new-palette'\n          name='new-palette'\n          bind:value={newPalette}\n        />\n        <span>add a new color palette:</span>\n      </label>\n      <Button\n        text=''\n        action={() => console.log('button click', newPalette)}\n      >\n        <Save />\n      </Button>\n    {:else if action === 'addColor'}\n      <label for='new-color-name'>\n        <input \n          type=\"text\"\n          id='new-color-name'\n          name='new-color-name'\n          bind:value={newColor.name}\n        />\n        <span>new color name:</span>\n      </label>\n      <Button\n        text=''\n        action={() => console.log('button click', newColor)}\n      >\n        <Save />\n      </Button>\n      <label for='new-color-value'>\n        <input \n          type=\"text\"\n          id='new-color-value'\n          name='new-color-value'\n          bind:value={newColor.value}\n        />\n        <span>new color value:</span>\n      </label>\n      <Button\n        text=''\n        action={() => console.log('button click', newColor)}\n      >\n        <Save />\n      </Button>\n    {:else if action === 'editColors'}\n      click a color name or value to change it\n    {:else if action === 'seeCode'}\n      <label for='colors-json'>\n        <textarea\n          rows={(colors.length * 4) + 1}\n          type=\"text\"\n          id='colors-json'\n          name='colors-json'\n          value={JSON.stringify(colors, null, '  ')}\n          on:input={event => colors = JSON.parse(event.target.value)}\n        />\n        <span>copy or edit the code</span>\n      </label>\n      <Button\n        text=''\n        action={() => console.log('button click', colors)}\n      >\n        <Save />\n      </Button>\n    {/if}\n  </section>\n{/if}","<script>\n\timport Breadcrumbs from './components/breadcrumbs.svelte'\n\timport ActionsButtons from './components/actions-buttons.svelte'\n\timport ActionsArea from './components/actions-area.svelte'\n\n\texport let url = ''\n</script>\n\n<style>\n\t:root {\n\t\t/* these can be changed with action buttons */\n\t\t/* --backgroundColor: #212121; */\n\t\t/* --textColor: #ffffff; */\n\t\t--borderSize: .5rem;\n\t}\n\n\t:global(body),\n\t:global(html) {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tfont-size: 12px;\n\t\tcolor: var(--backgroundColor);\n\t\tbackground: var(--textColor);\n\t}\n\n\t:global(*) {\n\t\tbox-sizing: border-box;\n\t} \n\n\t:global(*:focus) {\n\t\t--shadowSize: calc(.5 * var(--borderSize));\n\t\toutline: none;\n\t\tbox-shadow: 0 var(--shadowSize) 0 deeppink;\n\t} \n\n\t:global(body) {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100vh;\n\t\tfont-size: 1.5rem;\n\t}\n\n\n\theader {\n\t\tfont-size: 1.5rem;\n\t\tpadding: calc(2 * var(--borderSize));\n\t\tborder-bottom: var(--borderSize) solid var(--backgroundColor);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\t\n\tmain {\n\t\tflex: 1;\n\t\toverflow-y: auto;\n\t\tpadding: calc(2 * var(--borderSize));\n\t\tdisplay: flex;\n    justify-content: center;\n    align-items: center;\n\t\tposition: relative;\n\t}\n\n\t/* list styles */\n\n\t:global(main > p) {\n\t\tfont-size: 2em;\n\t\ttext-align: center;\n\t}\n\n\t:global(main ul) {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fill, minmax(30ch, 1fr));\n\t\tgrid-template-rows: auto;\n\t\tgap: calc(2 * var(--borderSize));\n    list-style: none;\n    padding: 0;\n\t\twidth: 100%;\n\t\tmax-width: 100ch;\n\t}\n\n\t:global(main ul li) {\n\t\ttext-align: center;\n  }\n\n\t:global(main li span) {\n    font-size: 1.5em;\n  }\n\n  :global(main li a) {\n    text-decoration: none;\n    display: block;\n  }\n\n  :global(main li a:hover > span:after) {\n    content: ' »';\n  }\n</style>\n\n<header>\n\t<Breadcrumbs url={url} />\n\t<ActionsButtons />\n</header>\n\n<main id='content'>\n\t<slot></slot>\n</main>\n\n<footer>\n\t<ActionsArea />\n</footer>","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexports.config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = new Error();\n            console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\nexports.hostReportError = hostReportError;\n//# sourceMappingURL=hostReportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError_1.hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(x) {\n    return x !== null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UnsubscriptionErrorImpl = (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexports.UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"./util/isArray\");\nvar isObject_1 = require(\"./util/isObject\");\nvar isFunction_1 = require(\"./util/isFunction\");\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\nvar Subscription = (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._ctorUnsubscribe = true;\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            if (_ctorUnsubscribe) {\n                this._unsubscribe = undefined;\n            }\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rxSubscriber = (function () {\n    return typeof Symbol === 'function'\n        ? Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + Math.random();\n})();\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_1 = require(\"./util/isFunction\");\nvar Observer_1 = require(\"./Observer\");\nvar Subscription_1 = require(\"./Subscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError_1.hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError_1.hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexports.SafeSubscriber = SafeSubscriber;\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nexports.filter = filter;\nvar FilterOperator = (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\nvar FilterSubscriber = (function (_super) {\n    __extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=filter.js.map","exports.filter = require('rxjs/internal/operators/filter').filter\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map","exports.map = require('rxjs/internal/operators/map').map\n","'use strict';\nvar isObj = require('is-obj');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Sources cannot be null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction assignKey(to, from, key) {\n\tvar val = from[key];\n\n\tif (val === undefined || val === null) {\n\t\treturn;\n\t}\n\n\tif (hasOwnProperty.call(to, key)) {\n\t\tif (to[key] === undefined || to[key] === null) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object (' + key + ')');\n\t\t}\n\t}\n\n\tif (!hasOwnProperty.call(to, key) || !isObj(val)) {\n\t\tto[key] = val;\n\t} else {\n\t\tto[key] = assign(Object(to[key]), from[key]);\n\t}\n}\n\nfunction assign(to, from) {\n\tif (to === from) {\n\t\treturn to;\n\t}\n\n\tfrom = Object(from);\n\n\tfor (var key in from) {\n\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\tassignKey(to, from, key);\n\t\t}\n\t}\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tvar symbols = Object.getOwnPropertySymbols(from);\n\n\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\tassignKey(to, from, symbols[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n}\n\nmodule.exports = function deepAssign(target) {\n\ttarget = toObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tassign(target, arguments[s]);\n\t}\n\n\treturn target;\n};\n","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n","\"use strict\";\n\nmodule.exports = function getSelection(sel) {\n  if (typeof sel === 'string' || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n\n  if (sel && sel.query) {\n    return {\n      query: sel.query\n    };\n  }\n\n  var selectionOpts = ['* Document ID (<docId>)', '* Array of document IDs', '* Object containing `query`'].join('\\n');\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n};","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar VALID_ASSET_TYPES = ['image', 'file'];\nvar VALID_INSERT_LOCATIONS = ['before', 'after', 'replace'];\n\nexports.dataset = function (name) {\n  if (!/^[-\\w]{1,128}$/.test(name)) {\n    throw new Error('Datasets can only contain lowercase characters, numbers, underscores and dashes');\n  }\n};\n\nexports.projectId = function (id) {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes');\n  }\n};\n\nexports.validateAssetType = function (type) {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(', ')));\n  }\n};\n\nexports.validateObject = function (op, val) {\n  if (val === null || _typeof(val) !== 'object' || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\n\nexports.requireDocumentId = function (op, doc) {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n\n  exports.validateDocumentId(op, doc._id);\n};\n\nexports.validateDocumentId = function (op, id) {\n  if (typeof id !== 'string' || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\n\nexports.validateInsert = function (at, selector, items) {\n  var signature = 'insert(at, selector, items)';\n\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    var valid = VALID_INSERT_LOCATIONS.map(function (loc) {\n      return \"\\\"\".concat(loc, \"\\\"\");\n    }).join(', ');\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\n\nexports.hasDataset = function (config) {\n  if (!config.gradientMode && !config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries');\n  }\n\n  return config.dataset || '';\n};","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar deepAssign = require('deep-assign');\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  merge: function merge(props) {\n    validateObject('merge', props);\n    var stack = new Error().stack.toString().split('\\n').filter(function (str) {\n      return str.trim();\n    }).slice(2);\n    console.warn(\"The \\\"merge\\\" patch has been deprecated and will be removed in the future\\n\".concat(stack.join('\\n')));\n    return this._assign('merge', deepAssign(this.operations.merge || {}, props));\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar validators = require('../validators');\n\nvar Patch = require('./patch');\n\nvar defaultMutateOptions = {\n  returnDocuments: false\n};\n\nfunction Transaction() {\n  var operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var client = arguments.length > 1 ? arguments[1] : undefined;\n  var transactionId = arguments.length > 2 ? arguments[2] : undefined;\n  this.trxId = transactionId;\n  this.operations = operations;\n  this.client = client;\n}\n\nassign(Transaction.prototype, {\n  clone: function clone() {\n    return new Transaction(this.operations.slice(0), this.client, this.trxId);\n  },\n  create: function create(doc) {\n    validators.validateObject('create', doc);\n    return this._add({\n      create: doc\n    });\n  },\n  createIfNotExists: function createIfNotExists(doc) {\n    var op = 'createIfNotExists';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  createOrReplace: function createOrReplace(doc) {\n    var op = 'createOrReplace';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  delete: function _delete(documentId) {\n    validators.validateDocumentId('delete', documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  },\n  patch: function patch(documentId, patchOps) {\n    var isBuilder = typeof patchOps === 'function';\n    var isPatch = documentId instanceof Patch; // transaction.patch(client.patch('documentId').inc({visits: 1}))\n\n    if (isPatch) {\n      return this._add({\n        patch: documentId.serialize()\n      });\n    } // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n\n\n    if (isBuilder) {\n      var patch = patchOps(new Patch(documentId, {}, this.client));\n\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch');\n      }\n\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n\n    return this._add({\n      patch: assign({\n        id: documentId\n      }, patchOps)\n    });\n  },\n  transactionId: function transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n\n    this.trxId = id;\n    return this;\n  },\n  serialize: function serialize() {\n    return this.operations.slice();\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit(options) {\n    if (!this.client) {\n      throw new Error('No `client` passed to transaction, either provide one or pass the ' + 'transaction to a clients `mutate()` method');\n    }\n\n    return this.client.mutate(this.serialize(), assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  },\n  reset: function reset() {\n    this.operations = [];\n    return this;\n  },\n  _add: function _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n});\nmodule.exports = Transaction;","\"use strict\";\n\nvar enc = encodeURIComponent;\n\nmodule.exports = function (_ref) {\n  var query = _ref.query,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n  var base = \"?query=\".concat(enc(query));\n  var qString = Object.keys(params).reduce(function (qs, param) {\n    return \"\".concat(qs, \"&\").concat(enc(\"$\".concat(param)), \"=\").concat(enc(JSON.stringify(params[param])));\n  }, base);\n  return Object.keys(options).reduce(function (qs, option) {\n    // Only include the option if it is truthy\n    return options[option] ? \"\".concat(qs, \"&\").concat(enc(option), \"=\").concat(enc(options[option])) : qs;\n  }, qString);\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber_1.Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\nexports.canReportError = canReportError;\n//# sourceMappingURL=canReportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\nvar Observer_1 = require(\"../Observer\");\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.observable = (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n//# sourceMappingURL=identity.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar identity_1 = require(\"./identity\");\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\nfunction pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity_1.identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar canReportError_1 = require(\"./util/canReportError\");\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\nvar observable_1 = require(\"./symbol/observable\");\nvar pipe_1 = require(\"./util/pipe\");\nvar config_1 = require(\"./config\");\nvar Observable = (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError_1.canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config_1.config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction scan(accumulator, seed) {\n    var hasSeed = false;\n    if (arguments.length >= 2) {\n        hasSeed = true;\n    }\n    return function scanOperatorFunction(source) {\n        return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n    };\n}\nexports.scan = scan;\nvar ScanOperator = (function () {\n    function ScanOperator(accumulator, seed, hasSeed) {\n        if (hasSeed === void 0) { hasSeed = false; }\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.hasSeed = hasSeed;\n    }\n    ScanOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n    };\n    return ScanOperator;\n}());\nvar ScanSubscriber = (function (_super) {\n    __extends(ScanSubscriber, _super);\n    function ScanSubscriber(destination, accumulator, _seed, hasSeed) {\n        var _this = _super.call(this, destination) || this;\n        _this.accumulator = accumulator;\n        _this._seed = _seed;\n        _this.hasSeed = hasSeed;\n        _this.index = 0;\n        return _this;\n    }\n    Object.defineProperty(ScanSubscriber.prototype, \"seed\", {\n        get: function () {\n            return this._seed;\n        },\n        set: function (value) {\n            this.hasSeed = true;\n            this._seed = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ScanSubscriber.prototype._next = function (value) {\n        if (!this.hasSeed) {\n            this.seed = value;\n            this.destination.next(value);\n        }\n        else {\n            return this._tryNext(value);\n        }\n    };\n    ScanSubscriber.prototype._tryNext = function (value) {\n        var index = this.index++;\n        var result;\n        try {\n            result = this.accumulator(this.seed, value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n        this.seed = result;\n        this.destination.next(result);\n    };\n    return ScanSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=scan.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArgumentOutOfRangeErrorImpl = (function () {\n    function ArgumentOutOfRangeErrorImpl() {\n        Error.call(this);\n        this.message = 'argument out of range';\n        this.name = 'ArgumentOutOfRangeError';\n        return this;\n    }\n    ArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);\n    return ArgumentOutOfRangeErrorImpl;\n})();\nexports.ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nexports.EMPTY = new Observable_1.Observable(function (subscriber) { return subscriber.complete(); });\nfunction empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : exports.EMPTY;\n}\nexports.empty = empty;\nfunction emptyScheduled(scheduler) {\n    return new Observable_1.Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar ArgumentOutOfRangeError_1 = require(\"../util/ArgumentOutOfRangeError\");\nvar empty_1 = require(\"../observable/empty\");\nfunction takeLast(count) {\n    return function takeLastOperatorFunction(source) {\n        if (count === 0) {\n            return empty_1.empty();\n        }\n        else {\n            return source.lift(new TakeLastOperator(count));\n        }\n    };\n}\nexports.takeLast = takeLast;\nvar TakeLastOperator = (function () {\n    function TakeLastOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;\n        }\n    }\n    TakeLastOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n    };\n    return TakeLastOperator;\n}());\nvar TakeLastSubscriber = (function (_super) {\n    __extends(TakeLastSubscriber, _super);\n    function TakeLastSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.ring = new Array();\n        _this.count = 0;\n        return _this;\n    }\n    TakeLastSubscriber.prototype._next = function (value) {\n        var ring = this.ring;\n        var total = this.total;\n        var count = this.count++;\n        if (ring.length < total) {\n            ring.push(value);\n        }\n        else {\n            var index = count % total;\n            ring[index] = value;\n        }\n    };\n    TakeLastSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        var count = this.count;\n        if (count > 0) {\n            var total = this.count >= this.total ? this.total : this.count;\n            var ring = this.ring;\n            for (var i = 0; i < total; i++) {\n                var idx = (count++) % total;\n                destination.next(ring[idx]);\n            }\n        }\n        destination.complete();\n    };\n    return TakeLastSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=takeLast.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) { defaultValue = null; }\n    return function (source) { return source.lift(new DefaultIfEmptyOperator(defaultValue)); };\n}\nexports.defaultIfEmpty = defaultIfEmpty;\nvar DefaultIfEmptyOperator = (function () {\n    function DefaultIfEmptyOperator(defaultValue) {\n        this.defaultValue = defaultValue;\n    }\n    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n    };\n    return DefaultIfEmptyOperator;\n}());\nvar DefaultIfEmptySubscriber = (function (_super) {\n    __extends(DefaultIfEmptySubscriber, _super);\n    function DefaultIfEmptySubscriber(destination, defaultValue) {\n        var _this = _super.call(this, destination) || this;\n        _this.defaultValue = defaultValue;\n        _this.isEmpty = true;\n        return _this;\n    }\n    DefaultIfEmptySubscriber.prototype._next = function (value) {\n        this.isEmpty = false;\n        this.destination.next(value);\n    };\n    DefaultIfEmptySubscriber.prototype._complete = function () {\n        if (this.isEmpty) {\n            this.destination.next(this.defaultValue);\n        }\n        this.destination.complete();\n    };\n    return DefaultIfEmptySubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=defaultIfEmpty.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar scan_1 = require(\"./scan\");\nvar takeLast_1 = require(\"./takeLast\");\nvar defaultIfEmpty_1 = require(\"./defaultIfEmpty\");\nvar pipe_1 = require(\"../util/pipe\");\nfunction reduce(accumulator, seed) {\n    if (arguments.length >= 2) {\n        return function reduceOperatorFunctionWithSeed(source) {\n            return pipe_1.pipe(scan_1.scan(accumulator, seed), takeLast_1.takeLast(1), defaultIfEmpty_1.defaultIfEmpty(seed))(source);\n        };\n    }\n    return function reduceOperatorFunction(source) {\n        return pipe_1.pipe(scan_1.scan(function (acc, value, index) { return accumulator(acc, value, index + 1); }), takeLast_1.takeLast(1))(source);\n    };\n}\nexports.reduce = reduce;\n//# sourceMappingURL=reduce.js.map","exports.reduce = require('rxjs/internal/operators/reduce').reduce\n","\"use strict\";\n\nvar _require = require('rxjs/internal/Observable'),\n    Observable = _require.Observable;\n\nvar assign = require('object-assign');\n\nvar _require2 = require('../operators/map'),\n    map = _require2.map;\n\nvar _require3 = require('../operators/filter'),\n    filter = _require3.filter;\n\nvar _require4 = require('../operators/reduce'),\n    reduce = _require4.reduce;\n/*\n A minimal rxjs based observable that align as closely as possible with the current es-observable spec,\n without the static factory methods\n */\n\n\nfunction SanityObservableMinimal() {\n  Observable.apply(this, arguments); // eslint-disable-line prefer-rest-params\n}\n\nSanityObservableMinimal.prototype = Object.create(assign(Object.create(null), Observable.prototype));\nObject.defineProperty(SanityObservableMinimal.prototype, 'constructor', {\n  value: SanityObservableMinimal,\n  enumerable: false,\n  writable: true,\n  configurable: true\n});\n\nSanityObservableMinimal.prototype.lift = function lift(operator) {\n  var observable = new SanityObservableMinimal();\n  observable.source = this;\n  observable.operator = operator;\n  return observable;\n};\n\nfunction createDeprecatedMemberOp(name, op) {\n  var hasWarned = false;\n  return function deprecatedOperator() {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.warn(new Error(\"Calling observable.\".concat(name, \"(...) is deprecated. Please use observable.pipe(\").concat(name, \"(...)) instead\")));\n    }\n\n    return this.pipe(op.apply(this, arguments));\n  };\n}\n\nSanityObservableMinimal.prototype.map = createDeprecatedMemberOp('map', map);\nSanityObservableMinimal.prototype.filter = createDeprecatedMemberOp('filter', filter);\nSanityObservableMinimal.prototype.reduce = createDeprecatedMemberOp('filter', reduce);\nmodule.exports = SanityObservableMinimal;","/*\n * EventSource polyfill\n * Originally published by sc AmvTek srl (https://github.com/amvtek/EventSource) - devel@amvtek.com\n * Forked by Espen Hovlandsdal to fix a few issues + publish latest version\n */\n\n;(function (root, factory) {\n  /* global define */\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define([], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory()\n  } else {\n    // Browser globals (root is window)\n    if (global.EventSource && !global._eventSourceImportPrefix) {\n      return\n    }\n\n    var evsImportName = (root._eventSourceImportPrefix || '') + 'EventSource'\n    root[evsImportName] = factory()\n  }\n})(typeof self === 'undefined' ? this : self, function () {\n  var EventSource = function (url, options) {\n    if (!url || typeof url != 'string') {\n      throw new SyntaxError('Not enough arguments')\n    }\n\n    this.URL = url\n    this.setOptions(options)\n    var evs = this\n    setTimeout(function () {\n      evs.poll()\n    }, 0)\n  }\n\n  EventSource.prototype = {\n    CONNECTING: 0,\n\n    OPEN: 1,\n\n    CLOSED: 2,\n\n    defaultOptions: {\n      loggingEnabled: false,\n\n      loggingPrefix: 'eventsource',\n\n      interval: 500, // milliseconds\n\n      bufferSizeLimit: 256 * 1024, // bytes\n\n      silentTimeout: 300000, // milliseconds\n\n      getArgs: {\n        evs_buffer_size_limit: 256 * 1024,\n      },\n\n      xhrHeaders: {\n        Accept: 'text/event-stream',\n        'Cache-Control': 'no-cache',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    },\n\n    setOptions: function (options) {\n      var defaults = this.defaultOptions\n      var option\n\n      // set all default options...\n      for (option in defaults) {\n        if (defaults.hasOwnProperty(option)) {\n          this[option] = defaults[option]\n        }\n      }\n\n      // override with what is in options\n      for (option in options) {\n        if (option in defaults && options.hasOwnProperty(option)) {\n          this[option] = options[option]\n        }\n      }\n\n      // if getArgs option is enabled\n      // ensure evs_buffer_size_limit corresponds to bufferSizeLimit\n      if (this.getArgs && this.bufferSizeLimit) {\n        this.getArgs.evs_buffer_size_limit = this.bufferSizeLimit\n      }\n\n      // if console is not available, force loggingEnabled to false\n      // eslint-disable-next-line no-console\n      if (typeof console === 'undefined' || typeof console.log === 'undefined') {\n        this.loggingEnabled = false\n      }\n    },\n\n    log: function (message) {\n      if (this.loggingEnabled) {\n        // eslint-disable-next-line no-console\n        console.log('[' + this.loggingPrefix + ']:' + message)\n      }\n    },\n\n    poll: function () {\n      try {\n        if (this.readyState == this.CLOSED) {\n          return\n        }\n\n        this.cleanup()\n        this.readyState = this.CONNECTING\n        this.cursor = 0\n        this.cache = ''\n        this._xhr = new this.XHR(this)\n        this.resetNoActivityTimer()\n      } catch (err) {\n        // in an attempt to silence the errors\n        this.log('There were errors inside the pool try-catch')\n        this.dispatchEvent('error', {type: 'error', data: err.message})\n      }\n    },\n\n    pollAgain: function (interval) {\n      // schedule poll to be called after interval milliseconds\n      var evs = this\n      evs.readyState = evs.CONNECTING\n      evs.dispatchEvent('error', {\n        type: 'error',\n        data: 'Reconnecting ',\n      })\n      this._pollTimer = setTimeout(function () {\n        evs.poll()\n      }, interval || 0)\n    },\n\n    cleanup: function () {\n      this.log('evs cleaning up')\n\n      if (this._pollTimer) {\n        clearInterval(this._pollTimer)\n        this._pollTimer = null\n      }\n\n      if (this._noActivityTimer) {\n        clearInterval(this._noActivityTimer)\n        this._noActivityTimer = null\n      }\n\n      if (this._xhr) {\n        this._xhr.abort()\n        this._xhr = null\n      }\n    },\n\n    resetNoActivityTimer: function () {\n      if (this.silentTimeout) {\n        if (this._noActivityTimer) {\n          clearInterval(this._noActivityTimer)\n        }\n        var evs = this\n        this._noActivityTimer = setTimeout(function () {\n          evs.log('Timeout! silentTImeout:' + evs.silentTimeout)\n          evs.pollAgain()\n        }, this.silentTimeout)\n      }\n    },\n\n    close: function () {\n      this.readyState = this.CLOSED\n      this.log('Closing connection. readyState: ' + this.readyState)\n      this.cleanup()\n    },\n\n    _onxhrdata: function () {\n      var request = this._xhr\n\n      if (request.isReady() && !request.hasError()) {\n        // reset the timer, as we have activity\n        this.resetNoActivityTimer()\n\n        // move this EventSource to OPEN state...\n        if (this.readyState == this.CONNECTING) {\n          this.readyState = this.OPEN\n          this.dispatchEvent('open', {type: 'open'})\n        }\n\n        var buffer = request.getBuffer()\n\n        if (buffer.length > this.bufferSizeLimit) {\n          this.log('buffer.length > this.bufferSizeLimit')\n          this.pollAgain()\n        }\n\n        if (this.cursor == 0 && buffer.length > 0) {\n          // skip byte order mark \\uFEFF character if it starts the stream\n          if (buffer.substring(0, 1) == '\\uFEFF') {\n            this.cursor = 1\n          }\n        }\n\n        var lastMessageIndex = this.lastMessageIndex(buffer)\n        if (lastMessageIndex[0] >= this.cursor) {\n          var newcursor = lastMessageIndex[1]\n          var toparse = buffer.substring(this.cursor, newcursor)\n          this.parseStream(toparse)\n          this.cursor = newcursor\n        }\n\n        // if request is finished, reopen the connection\n        if (request.isDone()) {\n          this.log('request.isDone(). reopening the connection')\n          this.pollAgain(this.interval)\n        }\n      } else if (this.readyState !== this.CLOSED) {\n        this.log('this.readyState !== this.CLOSED')\n        this.pollAgain(this.interval)\n\n        //MV: Unsure why an error was previously dispatched\n      }\n    },\n\n    parseStream: function (chunk) {\n      // normalize line separators (\\r\\n,\\r,\\n) to \\n\n      // remove white spaces that may precede \\n\n      chunk = this.cache + this.normalizeToLF(chunk)\n\n      var events = chunk.split('\\n\\n')\n\n      var i, j, eventType, datas, line, retry\n\n      for (i = 0; i < events.length - 1; i++) {\n        eventType = 'message'\n        datas = []\n        var parts = events[i].split('\\n')\n\n        for (j = 0; j < parts.length; j++) {\n          line = this.trimWhiteSpace(parts[j])\n\n          if (line.indexOf('event') == 0) {\n            eventType = line.replace(/event:?\\s*/, '')\n          } else if (line.indexOf('retry') == 0) {\n            retry = parseInt(line.replace(/retry:?\\s*/, ''), 10)\n            if (!isNaN(retry)) {\n              this.interval = retry\n            }\n          } else if (line.indexOf('data') == 0) {\n            datas.push(line.replace(/data:?\\s*/, ''))\n          } else if (line.indexOf('id:') == 0) {\n            this.lastEventId = line.replace(/id:?\\s*/, '')\n          } else if (line.indexOf('id') == 0) {\n            // this resets the id\n\n            this.lastEventId = null\n          }\n        }\n\n        if (datas.length && this.readyState != this.CLOSED) {\n          // dispatch a new event\n          var event = new MessageEvent(\n            eventType,\n            datas.join('\\n'),\n            typeof window !== 'undefined' && typeof window.location !== 'undefined'\n              ? window.location.origin\n              : null,\n            this.lastEventId\n          )\n          this.dispatchEvent(eventType, event)\n        }\n      }\n\n      this.cache = events[events.length - 1]\n    },\n\n    dispatchEvent: function (type, event) {\n      var handlers = this['_' + type + 'Handlers']\n\n      if (handlers) {\n        for (var i = 0; i < handlers.length; i++) {\n          handlers[i].call(this, event)\n        }\n      }\n\n      if (this['on' + type]) {\n        this['on' + type].call(this, event)\n      }\n    },\n\n    addEventListener: function (type, handler) {\n      if (!this['_' + type + 'Handlers']) {\n        this['_' + type + 'Handlers'] = []\n      }\n\n      this['_' + type + 'Handlers'].push(handler)\n    },\n\n    removeEventListener: function (type, handler) {\n      var handlers = this['_' + type + 'Handlers']\n      if (!handlers) {\n        return\n      }\n      for (var i = handlers.length - 1; i >= 0; --i) {\n        if (handlers[i] === handler) {\n          handlers.splice(i, 1)\n          break\n        }\n      }\n    },\n\n    _pollTimer: null,\n\n    _noactivityTimer: null,\n\n    _xhr: null,\n\n    lastEventId: null,\n\n    cache: '',\n\n    cursor: 0,\n\n    onerror: null,\n\n    onmessage: null,\n\n    onopen: null,\n\n    readyState: 0,\n\n    // ===================================================================\n    // helpers functions\n    // those are attached to prototype to ease reuse and testing...\n\n    urlWithParams: function (baseURL, params) {\n      var encodedArgs = []\n\n      if (params) {\n        var key, urlarg\n        var urlize = encodeURIComponent\n\n        for (key in params) {\n          if (params.hasOwnProperty(key)) {\n            urlarg = urlize(key) + '=' + urlize(params[key])\n            encodedArgs.push(urlarg)\n          }\n        }\n      }\n\n      if (encodedArgs.length > 0) {\n        if (baseURL.indexOf('?') == -1) return baseURL + '?' + encodedArgs.join('&')\n        return baseURL + '&' + encodedArgs.join('&')\n      }\n      return baseURL\n    },\n\n    lastMessageIndex: function (text) {\n      var ln2 = text.lastIndexOf('\\n\\n')\n      var lr2 = text.lastIndexOf('\\r\\r')\n      var lrln2 = text.lastIndexOf('\\r\\n\\r\\n')\n\n      if (lrln2 > Math.max(ln2, lr2)) {\n        return [lrln2, lrln2 + 4]\n      }\n      return [Math.max(ln2, lr2), Math.max(ln2, lr2) + 2]\n    },\n\n    trimWhiteSpace: function (str) {\n      // to remove whitespaces left and right of string\n\n      var reTrim = /^(\\s|\\u00A0)+|(\\s|\\u00A0)+$/g\n      return str.replace(reTrim, '')\n    },\n\n    normalizeToLF: function (str) {\n      // replace \\r and \\r\\n with \\n\n      return str.replace(/\\r\\n|\\r/g, '\\n')\n    },\n  }\n\n  if (isOldIE()) {\n    EventSource.isPolyfill = 'IE_8-9'\n\n    // patch EventSource defaultOptions\n    var defaults = EventSource.prototype.defaultOptions\n    defaults.xhrHeaders = null // no headers will be sent\n    defaults.getArgs.evs_preamble = 2048 + 8\n\n    // EventSource will send request using Internet Explorer XDomainRequest\n    EventSource.prototype.XHR = function (evs) {\n      /* global XDomainRequest */\n      var request = new XDomainRequest()\n      this._request = request\n\n      // set handlers\n      request.onprogress = function () {\n        request._ready = true\n        evs._onxhrdata()\n      }\n\n      request.onload = function () {\n        this._loaded = true\n        evs._onxhrdata()\n      }\n\n      request.onerror = function () {\n        this._failed = true\n        evs.readyState = evs.CLOSED\n        evs.dispatchEvent('error', {\n          type: 'error',\n          data: 'XDomainRequest error',\n        })\n      }\n\n      request.ontimeout = function () {\n        this._failed = true\n        evs.readyState = evs.CLOSED\n        evs.dispatchEvent('error', {\n          type: 'error',\n          data: 'XDomainRequest timed out',\n        })\n      }\n\n      // XDomainRequest does not allow setting custom headers\n      // If EventSource has enabled the use of GET arguments\n      // we add parameters to URL so that server can adapt the stream...\n      var reqGetArgs = {}\n      if (evs.getArgs) {\n        // copy evs.getArgs in reqGetArgs\n        var defaultArgs = evs.getArgs\n        for (var key in defaultArgs) {\n          if (defaultArgs.hasOwnProperty(key)) {\n            reqGetArgs[key] = defaultArgs[key]\n          }\n        }\n        if (evs.lastEventId) {\n          reqGetArgs.evs_last_event_id = evs.lastEventId\n        }\n      }\n      // send the request\n\n      request.open('GET', evs.urlWithParams(evs.URL, reqGetArgs))\n      request.send()\n    }\n\n    EventSource.prototype.XHR.prototype = {\n      useXDomainRequest: true,\n\n      _request: null,\n\n      _ready: false, // true when progress events are dispatched\n\n      _loaded: false, // true when request has been loaded\n\n      _failed: false, // true if when request is in error\n\n      isReady: function () {\n        return this._request._ready\n      },\n\n      isDone: function () {\n        return this._request._loaded\n      },\n\n      hasError: function () {\n        return this._request._failed\n      },\n\n      getBuffer: function () {\n        var rv = ''\n        try {\n          rv = this._request.responseText || ''\n        } catch (err) {\n          // intentional noop\n        }\n        return rv\n      },\n\n      abort: function () {\n        if (this._request) {\n          this._request.abort()\n        }\n      },\n    }\n  } else {\n    EventSource.isPolyfill = 'XHR'\n\n    // EventSource will send request using XMLHttpRequest\n    EventSource.prototype.XHR = function (evs) {\n      var request = new XMLHttpRequest()\n      this._request = request\n      evs._xhr = this\n\n      // set handlers\n      request.onreadystatechange = function () {\n        if (request.readyState > 1 && evs.readyState != evs.CLOSED) {\n          if (request.status == 200 || (request.status >= 300 && request.status < 400)) {\n            evs._onxhrdata()\n          } else {\n            request._failed = true\n            evs.readyState = evs.CLOSED\n            evs.dispatchEvent('error', {\n              type: 'error',\n              data: 'The server responded with ' + request.status,\n            })\n            evs.close()\n          }\n        }\n      }\n\n      request.onprogress = function () {\n        // intentional noop\n      }\n\n      request.open('GET', evs.urlWithParams(evs.URL, evs.getArgs), true)\n\n      var headers = evs.xhrHeaders // maybe null\n      for (var header in headers) {\n        if (headers.hasOwnProperty(header)) {\n          request.setRequestHeader(header, headers[header])\n        }\n      }\n      if (evs.lastEventId) {\n        request.setRequestHeader('Last-Event-Id', evs.lastEventId)\n      }\n\n      request.send()\n    }\n\n    EventSource.prototype.XHR.prototype = {\n      useXDomainRequest: false,\n\n      _request: null,\n\n      _failed: false, // true if we have had errors...\n\n      isReady: function () {\n        return this._request.readyState >= 2\n      },\n\n      isDone: function () {\n        return this._request.readyState == 4\n      },\n\n      hasError: function () {\n        return this._failed || this._request.status >= 400\n      },\n\n      getBuffer: function () {\n        var rv = ''\n        try {\n          rv = this._request.responseText || ''\n        } catch (err) {\n          // intentional noop\n        }\n        return rv\n      },\n\n      abort: function () {\n        if (this._request) {\n          this._request.abort()\n        }\n      },\n    }\n  }\n\n  function MessageEvent(type, data, origin, lastEventId) {\n    this.bubbles = false\n    this.cancelBubble = false\n    this.cancelable = false\n    this.data = data || null\n    this.origin = origin || ''\n    this.lastEventId = lastEventId || ''\n    this.type = type || 'message'\n  }\n\n  function isOldIE() {\n    //return true if we are in IE8 or IE9\n    return Boolean(\n      typeof window !== 'undefined' &&\n        window.XDomainRequest &&\n        window.XMLHttpRequest &&\n        new XMLHttpRequest().responseType === undefined\n    )\n  }\n\n  return EventSource\n})\n","/* eslint-disable no-var */\nvar evs = require('@rexxars/eventsource-polyfill')\n\nmodule.exports = window.EventSource || evs.EventSource\n","\"use strict\";\n\nmodule.exports = function (obj, props) {\n  return props.reduce(function (selection, prop) {\n    if (typeof obj[prop] === 'undefined') {\n      return selection;\n    }\n\n    selection[prop] = obj[prop];\n    return selection;\n  }, {});\n};","\"use strict\";\n\nmodule.exports = function (obj, defaults) {\n  return Object.keys(defaults).concat(Object.keys(obj)).reduce(function (target, prop) {\n    target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop];\n    return target;\n  }, {});\n};","var baseUrl = 'https://docs.sanity.io/help/'\n\nmodule.exports = function generateHelpUrl(slug) {\n  return baseUrl + slug\n}\n","\"use strict\";\n\nmodule.exports = function (fn) {\n  var didCall = false;\n  var returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n\n    returnValue = fn.apply(void 0, arguments);\n    didCall = true;\n    return returnValue;\n  };\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar Observable = require('@sanity/observable/minimal');\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar once = require('../util/once');\n\nvar tokenWarning = ['Using token with listeners is not supported in browsers. ', \"For more info, see \".concat(generateHelpUrl('js-client-listener-tokens-browser'), \".\")]; // eslint-disable-next-line no-console\n\nvar printTokenWarning = once(function () {\n  return console.warn(tokenWarning.join(' '));\n});\nvar isWindowEventSource = Boolean(typeof window !== 'undefined' && window.EventSource);\nvar EventSource = isWindowEventSource ? window.EventSource // Native browser EventSource\n: polyfilledEventSource; // Node.js, IE etc\n\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility', 'effectFormat'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var options = defaults(opts, defaultOptions);\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts\n  });\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials;\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n\n  if (token && isWindowEventSource) {\n    printTokenWarning();\n  }\n\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/filter'),\n    filter = _require.filter;\n\nvar _require2 = require('@sanity/observable/operators/map'),\n    map = _require2.map;\n\nvar validators = require('../validators');\n\nvar getSelection = require('../util/getSelection');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar Transaction = require('./transaction');\n\nvar Patch = require('./patch');\n\nvar listen = require('./listen');\n\nvar excludeFalsey = function excludeFalsey(param, defValue) {\n  var value = typeof param === 'undefined' ? defValue : param;\n  return param === false ? undefined : value;\n};\n\nvar getMutationQuery = function getMutationQuery() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync'\n  };\n};\n\nvar isResponse = function isResponse(event) {\n  return event.type === 'response';\n};\n\nvar getBody = function getBody(event) {\n  return event.body;\n};\n\nvar indexBy = function indexBy(docs, attr) {\n  return docs.reduce(function (indexed, doc) {\n    indexed[attr(doc)] = doc;\n    return indexed;\n  }, Object.create(null));\n};\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nvar getQuerySizeLimit = 11264;\nmodule.exports = {\n  listen: listen,\n  getDataUrl: function getDataUrl(operation, path) {\n    var config = this.clientConfig;\n    var catalog = config.gradientMode ? config.namespace : validators.hasDataset(config);\n    var baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    var uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return (this.clientConfig.gradientMode ? uri : \"/data\".concat(uri)).replace(/\\/($|\\?)/, '$1');\n  },\n  fetch: function fetch(query, params) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mapResponse = options.filterResponse === false ? function (res) {\n      return res;\n    } : function (res) {\n      return res.result;\n    };\n\n    var observable = this._dataRequest('query', {\n      query: query,\n      params: params\n    }, options).pipe(map(mapResponse));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocument: function getDocument(id) {\n    var options = {\n      uri: this.getDataUrl('doc', id),\n      json: true\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      return event.body.documents && event.body.documents[0];\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocuments: function getDocuments(ids) {\n    var options = {\n      uri: this.getDataUrl('doc', ids.join(',')),\n      json: true\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      var indexed = indexBy(event.body.documents || [], function (doc) {\n        return doc._id;\n      });\n      return ids.map(function (id) {\n        return indexed[id] || null;\n      });\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  create: function create(doc, options) {\n    return this._create(doc, 'create', options);\n  },\n  createIfNotExists: function createIfNotExists(doc, options) {\n    validators.requireDocumentId('createIfNotExists', doc);\n    return this._create(doc, 'createIfNotExists', options);\n  },\n  createOrReplace: function createOrReplace(doc, options) {\n    validators.requireDocumentId('createOrReplace', doc);\n    return this._create(doc, 'createOrReplace', options);\n  },\n  patch: function patch(selector, operations) {\n    return new Patch(selector, operations, this);\n  },\n  delete: function _delete(selection, options) {\n    return this.dataRequest('mutate', {\n      mutations: [{\n        delete: getSelection(selection)\n      }]\n    }, options);\n  },\n  mutate: function mutate(mutations, options) {\n    var mut = mutations instanceof Patch || mutations instanceof Transaction ? mutations.serialize() : mutations;\n    var muts = Array.isArray(mut) ? mut : [mut];\n    var transactionId = options && options.transactionId;\n    return this.dataRequest('mutate', {\n      mutations: muts,\n      transactionId: transactionId\n    }, options);\n  },\n  transaction: function transaction(operations) {\n    return new Transaction(operations, this);\n  },\n  dataRequest: function dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var request = this._dataRequest(endpoint, body, options);\n\n    return this.isPromiseAPI() ? toPromise(request) : request;\n  },\n  _dataRequest: function _dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var isMutation = endpoint === 'mutate'; // Check if the query string is within a configured threshold,\n    // in which case we can use GET. Otherwise, use POST.\n\n    var strQuery = !isMutation && encodeQueryString(body);\n    var useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    var stringQuery = useGet ? strQuery : '';\n    var returnFirst = options.returnFirst;\n    var timeout = options.timeout,\n        token = options.token;\n    var uri = this.getDataUrl(endpoint, stringQuery);\n    var reqOptions = {\n      method: useGet ? 'GET' : 'POST',\n      uri: uri,\n      json: true,\n      body: useGet ? undefined : body,\n      query: isMutation && getMutationQuery(options),\n      timeout: timeout,\n      token: token\n    };\n    return this._requestObservable(reqOptions).pipe(filter(isResponse), map(getBody), map(function (res) {\n      if (!isMutation) {\n        return res;\n      } // Should we return documents?\n\n\n      var results = res.results || [];\n\n      if (options.returnDocuments) {\n        return returnFirst ? results[0] && results[0].document : results.map(function (mut) {\n          return mut.document;\n        });\n      } // Return a reduced subset\n\n\n      var key = returnFirst ? 'documentId' : 'documentIds';\n      var ids = returnFirst ? results[0] && results[0].id : results.map(function (mut) {\n        return mut.id;\n      });\n      return _defineProperty({\n        transactionId: res.transactionId,\n        results: results\n      }, key, ids);\n    }));\n  },\n  _create: function _create(doc, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mutation = _defineProperty({}, op, doc);\n\n    var opts = assign({\n      returnFirst: true,\n      returnDocuments: true\n    }, options);\n    return this.dataRequest('mutate', {\n      mutations: [mutation]\n    }, opts);\n  }\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar validate = require('../validators');\n\nfunction DatasetsClient(client) {\n  this.request = client.request.bind(client);\n}\n\nassign(DatasetsClient.prototype, {\n  create: function create(name, options) {\n    return this._modify('PUT', name, options);\n  },\n  edit: function edit(name, options) {\n    return this._modify('PATCH', name, options);\n  },\n  delete: function _delete(name) {\n    return this._modify('DELETE', name);\n  },\n  list: function list() {\n    return this.request({\n      uri: '/datasets'\n    });\n  },\n  _modify: function _modify(method, name, body) {\n    validate.dataset(name);\n    return this.request({\n      method: method,\n      uri: \"/datasets/\".concat(name),\n      body: body\n    });\n  }\n});\nmodule.exports = DatasetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction ProjectsClient(client) {\n  this.client = client;\n}\n\nassign(ProjectsClient.prototype, {\n  list: function list() {\n    return this.client.request({\n      uri: '/projects'\n    });\n  },\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/projects/\".concat(id)\n    });\n  }\n});\nmodule.exports = ProjectsClient;","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/map'),\n    map = _require.map;\n\nvar _require2 = require('@sanity/observable/operators/filter'),\n    filter = _require2.filter;\n\nvar queryString = require('../http/queryString');\n\nvar validators = require('../validators');\n\nfunction AssetsClient(client) {\n  this.client = client;\n}\n\nfunction toDocument(body) {\n  // todo: rewrite to just return body.document in a while\n  var document = body.document;\n  Object.defineProperty(document, 'document', {\n    enumerable: false,\n    get: function get() {\n      // eslint-disable-next-line no-console\n      console.warn('The promise returned from client.asset.upload(...) now resolves with the asset document');\n      return document;\n    }\n  });\n  return document;\n}\n\nfunction optionsFromFile(opts, file) {\n  if (typeof window === 'undefined' || !(file instanceof window.File)) {\n    return opts;\n  }\n\n  return assign({\n    filename: opts.preserveFilename === false ? undefined : file.name,\n    contentType: file.type\n  }, opts);\n}\n\nassign(AssetsClient.prototype, {\n  /**\n   * Upload an asset\n   *\n   * @param  {String} assetType `image` or `file`\n   * @param  {File|Blob|Buffer|ReadableStream} body File to upload\n   * @param  {Object}  opts Options for the upload\n   * @param  {Boolean} opts.preserveFilename Whether or not to preserve the original filename (default: true)\n   * @param  {String}  opts.filename Filename for this file (optional)\n   * @param  {Number}  opts.timeout  Milliseconds to wait before timing the request out (default: 0)\n   * @param  {String}  opts.contentType Mime type of the file\n   * @param  {Array}   opts.extract Array of metadata parts to extract from image.\n   *                                 Possible values: `location`, `exif`, `image`, `palette`\n   * @param  {String}  opts.label Label\n   * @param  {String}  opts.title Title\n   * @param  {String}  opts.description Description\n   * @param  {String}  opts.creditLine The credit to person(s) and/or organization(s) required by the supplier of the image to be used when published\n   * @param  {Object}  opts.source Source data (when the asset is from an external service)\n   * @param  {String}  opts.source.id The (u)id of the asset within the source, i.e. 'i-f323r1E'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.name The name of the source, i.e. 'unsplash'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.url A url to where to find the asset, or get more info about it in the source\n   *                                  Optional\n   * @return {Promise} Resolves with the created asset document\n   */\n  upload: function upload(assetType, body) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    validators.validateAssetType(assetType); // If an empty array is given, explicitly set `none` to override API defaults\n\n    var meta = opts.extract || undefined;\n\n    if (meta && !meta.length) {\n      meta = ['none'];\n    }\n\n    var dataset = validators.hasDataset(this.client.clientConfig);\n    var assetEndpoint = assetType === 'image' ? 'images' : 'files';\n    var options = optionsFromFile(opts, body);\n    var label = options.label,\n        title = options.title,\n        description = options.description,\n        creditLine = options.creditLine,\n        filename = options.filename,\n        source = options.source;\n    var query = {\n      label: label,\n      title: title,\n      description: description,\n      filename: filename,\n      meta: meta,\n      creditLine: creditLine\n    };\n\n    if (source) {\n      query.sourceId = source.id;\n      query.sourceName = source.name;\n      query.sourceUrl = source.url;\n    }\n\n    var observable = this.client._requestObservable({\n      method: 'POST',\n      timeout: options.timeout || 0,\n      uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n      headers: options.contentType ? {\n        'Content-Type': options.contentType\n      } : {},\n      query: query,\n      body: body\n    });\n\n    return this.client.isPromiseAPI() ? observable.pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return toDocument(event.body);\n    })).toPromise() : observable;\n  },\n  delete: function _delete(type, id) {\n    // eslint-disable-next-line no-console\n    console.warn('client.assets.delete() is deprecated, please use client.delete(<document-id>)');\n    var docId = id || '';\n\n    if (!/^(image|file)-/.test(docId)) {\n      docId = \"\".concat(type, \"-\").concat(docId);\n    } else if (type._id) {\n      // We could be passing an entire asset document instead of an ID\n      docId = type._id;\n    }\n\n    validators.hasDataset(this.client.clientConfig);\n    return this.client.delete(docId);\n  },\n  getImageUrl: function getImageUrl(ref, query) {\n    var id = ref._ref || ref;\n\n    if (typeof id !== 'string') {\n      throw new Error('getImageUrl() needs either an object with a _ref, or a string with an asset document ID');\n    }\n\n    if (!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(id)) {\n      throw new Error(\"Unsupported asset ID \\\"\".concat(id, \"\\\". URL generation only works for auto-generated IDs.\"));\n    }\n\n    var _id$split = id.split('-'),\n        _id$split2 = _slicedToArray(_id$split, 4),\n        assetId = _id$split2[1],\n        size = _id$split2[2],\n        format = _id$split2[3];\n\n    validators.hasDataset(this.client.clientConfig);\n    var _this$client$clientCo = this.client.clientConfig,\n        projectId = _this$client$clientCo.projectId,\n        dataset = _this$client$clientCo.dataset;\n    var qs = query ? queryString(query) : '';\n    return \"https://cdn.sanity.io/images/\".concat(projectId, \"/\").concat(dataset, \"/\").concat(assetId, \"-\").concat(size, \".\").concat(format).concat(qs);\n  }\n});\nmodule.exports = AssetsClient;","\"use strict\";\n\nmodule.exports = function (params) {\n  var qs = [];\n\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key])));\n    }\n  }\n\n  return qs.length > 0 ? \"?\".concat(qs.join('&')) : '';\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction UsersClient(client) {\n  this.client = client;\n}\n\nassign(UsersClient.prototype, {\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/users/\".concat(id)\n    });\n  }\n});\nmodule.exports = UsersClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction AuthClient(client) {\n  this.client = client;\n}\n\nassign(AuthClient.prototype, {\n  getLoginProviders: function getLoginProviders() {\n    return this.client.request({\n      uri: '/auth/providers'\n    });\n  },\n  logout: function logout() {\n    return this.client.request({\n      uri: '/auth/logout',\n      method: 'POST'\n    });\n  }\n});\nmodule.exports = AuthClient;","module.exports = function Pubsub() {\n  var subscribers = []\n  return {\n    subscribe: subscribe,\n    publish: publish\n  }\n  function subscribe(subscriber) {\n    subscribers.push(subscriber)\n    return function unsubscribe() {\n      var idx = subscribers.indexOf(subscriber)\n      if (idx > -1) {\n        subscribers.splice(idx, 1)\n      }\n    }\n  }\n  function publish() {\n    for (var i = 0; i < subscribers.length; i++) {\n      subscribers[i].apply(null, arguments)\n    }\n  }\n}","'use strict';\n\nmodule.exports = function (middleware) {\n  var applyMiddleware = function applyMiddleware(hook, defaultValue) {\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    var bailEarly = hook === 'onError';\n\n    var value = defaultValue;\n    for (var i = 0; i < middleware[hook].length; i++) {\n      var handler = middleware[hook][i];\n      value = handler.apply(undefined, [value].concat(args));\n\n      if (bailEarly && !value) {\n        break;\n      }\n    }\n\n    return value;\n  };\n\n  return applyMiddleware;\n};\n//# sourceMappingURL=middlewareReducer.js.map","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address) {          // Sanitize what is left of the address\n    return address.replace('\\\\', '/');\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address) {\n  address = trimLeft(address);\n  var match = protocolre.exec(address);\n\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","'use strict';\n\nvar objectAssign = require('object-assign');\nvar urlParse = require('url-parse');\n\nvar isReactNative = typeof navigator === 'undefined' ? false : navigator.product === 'ReactNative';\n\nvar has = Object.prototype.hasOwnProperty;\nvar defaultOptions = { timeout: isReactNative ? 60000 : 120000 };\n\nmodule.exports = function (opts) {\n  var options = typeof opts === 'string' ? objectAssign({ url: opts }, defaultOptions) : objectAssign({}, defaultOptions, opts);\n\n  // Parse URL into parts\n  var url = urlParse(options.url, {}, // Don't use current browser location\n  true // Parse query strings\n  );\n\n  // Normalize timeouts\n  options.timeout = normalizeTimeout(options.timeout);\n\n  // Shallow-merge (override) existing query params\n  if (options.query) {\n    url.query = objectAssign({}, url.query, removeUndefined(options.query));\n  }\n\n  // Implicit POST if we have not specified a method but have a body\n  options.method = options.body && !options.method ? 'POST' : (options.method || 'GET').toUpperCase();\n\n  // Stringify URL\n  options.url = url.toString(stringifyQueryString);\n\n  return options;\n};\n\nfunction stringifyQueryString(obj) {\n  var pairs = [];\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      push(key, obj[key]);\n    }\n  }\n\n  return pairs.length ? pairs.join('&') : '';\n\n  function push(key, val) {\n    if (Array.isArray(val)) {\n      val.forEach(function (item) {\n        return push(key, item);\n      });\n    } else {\n      pairs.push([key, val].map(encodeURIComponent).join('='));\n    }\n  }\n}\n\nfunction normalizeTimeout(time) {\n  if (time === false || time === 0) {\n    return false;\n  }\n\n  if (time.connect || time.socket) {\n    return time;\n  }\n\n  var delay = Number(time);\n  if (isNaN(delay)) {\n    return normalizeTimeout(defaultOptions.timeout);\n  }\n\n  return { connect: delay, socket: delay };\n}\n\nfunction removeUndefined(obj) {\n  var target = {};\n  for (var key in obj) {\n    if (obj[key] !== undefined) {\n      target[key] = obj[key];\n    }\n  }\n  return target;\n}\n//# sourceMappingURL=defaultOptionsProcessor.js.map","\"use strict\";\n\nvar validUrl = /^https?:\\/\\//i;\n\nmodule.exports = function (options) {\n  if (!validUrl.test(options.url)) {\n    throw new Error(\"\\\"\" + options.url + \"\\\" is not a valid URL\");\n  }\n};\n//# sourceMappingURL=defaultOptionsValidator.js.map","/**\n * This file is only used for the browser version of `same-origin`.\n * Used to bring down the size of the browser bundle.\n */\n'use strict';\n\nvar regex = /^(?:(?:(?:([^:\\/#\\?]+:)?(?:(?:\\/\\/)((?:((?:[^:@\\/#\\?]+)(?:\\:(?:[^:@\\/#\\?]+))?)@)?(([^:\\/#\\?\\]\\[]+|\\[[^\\/\\]@#?]+\\])(?:\\:([0-9]+))?))?)?)?((?:\\/?(?:[^\\/\\?#]+\\/+)*)(?:[^\\?#]*)))?(\\?[^#]+)?)(#.*)?/;\n\nmodule.exports = {\n    regex: regex,\n    parse: function(url) {\n        var match = regex.exec(url);\n        if (!match) {\n            return {};\n        }\n\n        return {\n            protocol: (match[1] || '').toLowerCase() || undefined,\n            hostname: (match[5] || '').toLowerCase() || undefined,\n            port: match[6] || undefined\n        };\n    }\n};","var trim = function(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n}\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  var headersArr = trim(headers).split('\\n')\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i]\n    var index = row.indexOf(':')\n    , key = trim(row.slice(0, index)).toLowerCase()\n    , value = trim(row.slice(index + 1))\n\n    if (typeof(result[key]) === 'undefined') {\n      result[key] = value\n    } else if (isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [ result[key], value ]\n    }\n  }\n\n  return result\n}\n","'use strict';\n\n/* eslint max-depth: [\"error\", 4] */\nvar sameOrigin = require('same-origin');\nvar parseHeaders = require('parse-headers');\nvar noop = function noop() {\n  /* intentional noop */\n};\n\nvar win = window;\nvar XmlHttpRequest = win.XMLHttpRequest || noop;\nvar hasXhr2 = 'withCredentials' in new XmlHttpRequest();\nvar XDomainRequest = hasXhr2 ? XmlHttpRequest : win.XDomainRequest;\nvar adapter = 'xhr';\n\nmodule.exports = function (context, callback) {\n  var opts = context.options;\n  var options = context.applyMiddleware('finalizeOptions', opts);\n  var timers = {};\n\n  // Deep-checking window.location because of react native, where `location` doesn't exist\n  var cors = win && win.location && !sameOrigin(win.location.href, options.url);\n\n  // Allow middleware to inject a response, for instance in the case of caching or mocking\n  var injectedResponse = context.applyMiddleware('interceptRequest', undefined, {\n    adapter: adapter,\n    context: context\n  });\n\n  // If middleware injected a response, treat it as we normally would and return it\n  // Do note that the injected response has to be reduced to a cross-environment friendly response\n  if (injectedResponse) {\n    var cbTimer = setTimeout(callback, 0, null, injectedResponse);\n    var cancel = function cancel() {\n      return clearTimeout(cbTimer);\n    };\n    return { abort: cancel };\n  }\n\n  // We'll want to null out the request on success/failure\n  var xhr = cors ? new XDomainRequest() : new XmlHttpRequest();\n\n  var isXdr = win.XDomainRequest && xhr instanceof win.XDomainRequest;\n  var headers = options.headers;\n\n  // Request state\n  var aborted = false;\n  var loaded = false;\n  var timedOut = false;\n\n  // Apply event handlers\n  xhr.onerror = onError;\n  xhr.ontimeout = onError;\n  xhr.onabort = function () {\n    aborted = true;\n  };\n\n  // IE9 must have onprogress be set to a unique function\n  xhr.onprogress = function () {\n    /* intentional noop */\n  };\n\n  var loadEvent = isXdr ? 'onload' : 'onreadystatechange';\n  xhr[loadEvent] = function () {\n    // Prevent request from timing out\n    resetTimers();\n\n    if (aborted || xhr.readyState !== 4 && !isXdr) {\n      return;\n    }\n\n    // Will be handled by onError\n    if (xhr.status === 0) {\n      return;\n    }\n\n    onLoad();\n  };\n\n  // @todo two last options to open() is username/password\n  xhr.open(options.method, options.url, true // Always async\n  );\n\n  // Some options need to be applied after open\n  xhr.withCredentials = !!options.withCredentials;\n\n  // Set headers\n  if (headers && xhr.setRequestHeader) {\n    for (var key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  } else if (headers && isXdr) {\n    throw new Error('Headers cannot be set on an XDomainRequest object');\n  }\n\n  if (options.rawBody) {\n    xhr.responseType = 'arraybuffer';\n  }\n\n  // Let middleware know we're about to do a request\n  context.applyMiddleware('onRequest', { options: options, adapter: adapter, request: xhr, context: context });\n\n  xhr.send(options.body || null);\n\n  // Figure out which timeouts to use (if any)\n  var delays = options.timeout;\n  if (delays) {\n    timers.connect = setTimeout(function () {\n      return timeoutRequest('ETIMEDOUT');\n    }, delays.connect);\n  }\n\n  return { abort: abort };\n\n  function abort() {\n    aborted = true;\n\n    if (xhr) {\n      xhr.abort();\n    }\n  }\n\n  function timeoutRequest(code) {\n    timedOut = true;\n    xhr.abort();\n    var error = new Error(code === 'ESOCKETTIMEDOUT' ? 'Socket timed out on request to ' + options.url : 'Connection timed out on request to ' + options.url);\n    error.code = code;\n    context.channels.error.publish(error);\n  }\n\n  function resetTimers() {\n    if (!delays) {\n      return;\n    }\n\n    stopTimers();\n    timers.socket = setTimeout(function () {\n      return timeoutRequest('ESOCKETTIMEDOUT');\n    }, delays.socket);\n  }\n\n  function stopTimers() {\n    // Only clear the connect timeout if we've got a connection\n    if (aborted || xhr.readyState >= 2 && timers.connect) {\n      clearTimeout(timers.connect);\n    }\n\n    if (timers.socket) {\n      clearTimeout(timers.socket);\n    }\n  }\n\n  function onError() {\n    if (loaded) {\n      return;\n    }\n\n    // Clean up\n    stopTimers();\n    loaded = true;\n    xhr = null;\n\n    // Annoyingly, details are extremely scarce and hidden from us.\n    // We only really know that it is a network error\n    var err = new Error('Network error while attempting to reach ' + options.url);\n    err.isNetworkError = true;\n    err.request = options;\n    callback(err);\n  }\n\n  function reduceResponse() {\n    var statusCode = xhr.status;\n    var statusMessage = xhr.statusText;\n\n    if (isXdr && statusCode === undefined) {\n      // IE8 CORS GET successful response doesn't have a status field, but body is fine\n      statusCode = 200;\n    } else if (statusCode > 12000 && statusCode < 12156) {\n      // Yet another IE quirk where it emits weird status codes on network errors\n      // https://support.microsoft.com/en-us/kb/193625\n      return onError();\n    } else {\n      // Another IE bug where HTTP 204 somehow ends up as 1223\n      statusCode = xhr.status === 1223 ? 204 : xhr.status;\n      statusMessage = xhr.status === 1223 ? 'No Content' : statusMessage;\n    }\n\n    return {\n      body: xhr.response || xhr.responseText,\n      url: options.url,\n      method: options.method,\n      headers: isXdr ? {} : parseHeaders(xhr.getAllResponseHeaders()),\n      statusCode: statusCode,\n      statusMessage: statusMessage\n    };\n  }\n\n  function onLoad() {\n    if (aborted || loaded || timedOut) {\n      return;\n    }\n\n    if (xhr.status === 0) {\n      onError(new Error('Unknown XHR error'));\n      return;\n    }\n\n    // Prevent being called twice\n    stopTimers();\n    loaded = true;\n    callback(null, reduceResponse());\n  }\n};\n//# sourceMappingURL=browser-request.js.map","'use strict';\n\nvar url = require('url');\n\nmodule.exports = function(uri1, uri2, ieMode) {\n    if (uri1 === uri2) {\n        return true;\n    }\n\n    var url1 = url.parse(uri1, false, true);\n    var url2 = url.parse(uri2, false, true);\n\n    var url1Port = url1.port|0 || (url1.protocol === 'https' ? 443 : 80);\n    var url2Port = url2.port|0 || (url2.protocol === 'https' ? 443 : 80);\n\n    var match = {\n        proto: url1.protocol === url2.protocol,\n        hostname: url1.hostname === url2.hostname,\n        port: url1Port === url2Port\n    };\n\n    return ((match.proto && match.hostname) && (match.port || ieMode));\n};","'use strict';\n\nvar pubsub = require('nano-pubsub');\nvar middlewareReducer = require('./util/middlewareReducer');\nvar processOptions = require('./middleware/defaultOptionsProcessor');\nvar validateOptions = require('./middleware/defaultOptionsValidator');\nvar httpRequest = require('./request'); // node-request in node, browser-request in browsers\n\nvar channelNames = ['request', 'response', 'progress', 'error', 'abort'];\nvar middlehooks = ['processOptions', 'validateOptions', 'interceptRequest', 'finalizeOptions', 'onRequest', 'onResponse', 'onError', 'onReturn', 'onHeaders'];\n\nmodule.exports = function createRequester() {\n  var initMiddleware = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var loadedMiddleware = [];\n  var middleware = middlehooks.reduce(function (ware, name) {\n    ware[name] = ware[name] || [];\n    return ware;\n  }, {\n    processOptions: [processOptions],\n    validateOptions: [validateOptions]\n  });\n\n  function request(opts) {\n    var channels = channelNames.reduce(function (target, name) {\n      target[name] = pubsub();\n      return target;\n    }, {});\n\n    // Prepare a middleware reducer that can be reused throughout the lifecycle\n    var applyMiddleware = middlewareReducer(middleware);\n\n    // Parse the passed options\n    var options = applyMiddleware('processOptions', opts);\n\n    // Validate the options\n    applyMiddleware('validateOptions', options);\n\n    // Build a context object we can pass to child handlers\n    var context = { options: options, channels: channels, applyMiddleware: applyMiddleware\n\n      // We need to hold a reference to the current, ongoing request,\n      // in order to allow cancellation. In the case of the retry middleware,\n      // a new request might be triggered\n    };var ongoingRequest = null;\n    var unsubscribe = channels.request.subscribe(function (ctx) {\n      // Let request adapters (node/browser) perform the actual request\n      ongoingRequest = httpRequest(ctx, function (err, res) {\n        return onResponse(err, res, ctx);\n      });\n    });\n\n    // If we abort the request, prevent further requests from happening,\n    // and be sure to cancel any ongoing request (obviously)\n    channels.abort.subscribe(function () {\n      unsubscribe();\n      if (ongoingRequest) {\n        ongoingRequest.abort();\n      }\n    });\n\n    // See if any middleware wants to modify the return value - for instance\n    // the promise or observable middlewares\n    var returnValue = applyMiddleware('onReturn', channels, context);\n\n    // If return value has been modified by a middleware, we expect the middleware\n    // to publish on the 'request' channel. If it hasn't been modified, we want to\n    // trigger it right away\n    if (returnValue === channels) {\n      channels.request.publish(context);\n    }\n\n    return returnValue;\n\n    function onResponse(reqErr, res, ctx) {\n      var error = reqErr;\n      var response = res;\n\n      // We're processing non-errors first, in case a middleware converts the\n      // response into an error (for instance, status >= 400 == HttpError)\n      if (!error) {\n        try {\n          response = applyMiddleware('onResponse', res, ctx);\n        } catch (err) {\n          response = null;\n          error = err;\n        }\n      }\n\n      // Apply error middleware - if middleware return the same (or a different) error,\n      // publish as an error event. If we *don't* return an error, assume it has been handled\n      error = error && applyMiddleware('onError', error, ctx);\n\n      // Figure out if we should publish on error/response channels\n      if (error) {\n        channels.error.publish(error);\n      } else if (response) {\n        channels.response.publish(response);\n      }\n    }\n  }\n\n  request.use = function use(newMiddleware) {\n    if (!newMiddleware) {\n      throw new Error('Tried to add middleware that resolved to falsey value');\n    }\n\n    if (typeof newMiddleware === 'function') {\n      throw new Error('Tried to add middleware that was a function. It probably expects you to pass options to it.');\n    }\n\n    if (newMiddleware.onReturn && middleware.onReturn.length > 0) {\n      throw new Error('Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event');\n    }\n\n    middlehooks.forEach(function (key) {\n      if (newMiddleware[key]) {\n        middleware[key].push(newMiddleware[key]);\n      }\n    });\n\n    loadedMiddleware.push(newMiddleware);\n    return request;\n  };\n\n  request.clone = function clone() {\n    return createRequester(loadedMiddleware);\n  };\n\n  initMiddleware.forEach(request.use);\n\n  return request;\n};\n//# sourceMappingURL=index.js.map","'use strict';\n\n/* eslint-disable no-negated-condition */\nif (typeof window !== 'undefined') {\n  module.exports = window;\n} else if (typeof global !== 'undefined') {\n  module.exports = global;\n} else if (typeof self !== 'undefined') {\n  module.exports = self;\n} else {\n  module.exports = {};\n}\n//# sourceMappingURL=global.js.map","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar objectAssign = require('object-assign');\nvar isPlainObject = require('is-plain-object');\n\nvar serializeTypes = ['boolean', 'string', 'number'];\nvar isBuffer = function isBuffer(obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj);\n};\n\nmodule.exports = function () {\n  return {\n    processOptions: function processOptions(options) {\n      var body = options.body;\n      if (!body) {\n        return options;\n      }\n\n      var isStream = typeof body.pipe === 'function';\n      var shouldSerialize = !isStream && !isBuffer(body) && (serializeTypes.indexOf(typeof body === 'undefined' ? 'undefined' : _typeof(body)) !== -1 || Array.isArray(body) || isPlainObject(body));\n\n      if (!shouldSerialize) {\n        return options;\n      }\n\n      return objectAssign({}, options, {\n        body: JSON.stringify(options.body),\n        headers: objectAssign({}, options.headers, {\n          'Content-Type': 'application/json'\n        })\n      });\n    }\n  };\n};\n//# sourceMappingURL=jsonRequest.js.map","'use strict';\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (opts) {\n  return {\n    onResponse: function onResponse(response) {\n      var contentType = response.headers['content-type'] || '';\n      var shouldDecode = opts && opts.force || contentType.indexOf('application/json') !== -1;\n      if (!response.body || !contentType || !shouldDecode) {\n        return response;\n      }\n\n      return objectAssign({}, response, { body: tryParse(response.body) });\n    },\n\n    processOptions: function processOptions(options) {\n      return objectAssign({}, options, {\n        headers: objectAssign({ Accept: 'application/json' }, options.headers)\n      });\n    }\n  };\n};\n\nfunction tryParse(body) {\n  try {\n    return JSON.parse(body);\n  } catch (err) {\n    err.message = 'Failed to parsed response body as JSON: ' + err.message;\n    throw err;\n  }\n}\n//# sourceMappingURL=jsonResponse.js.map","'use strict';\n\nmodule.exports = function () {\n  return {\n    onRequest: function onRequest(evt) {\n      if (evt.adapter !== 'xhr') {\n        return;\n      }\n\n      var xhr = evt.request;\n      var context = evt.context;\n\n      if ('upload' in xhr && 'onprogress' in xhr.upload) {\n        xhr.upload.onprogress = handleProgress('upload');\n      }\n\n      if ('onprogress' in xhr) {\n        xhr.onprogress = handleProgress('download');\n      }\n\n      function handleProgress(stage) {\n        return function (event) {\n          var percent = event.lengthComputable ? event.loaded / event.total * 100 : -1;\n          context.channels.progress.publish({\n            stage: stage,\n            percent: percent,\n            total: event.total,\n            loaded: event.loaded,\n            lengthComputable: event.lengthComputable\n          });\n        };\n      }\n    }\n  };\n};\n//# sourceMappingURL=browser-progress.js.map","// ISC @ Julien Fontanet\n\n\"use strict\";\n\n// ===================================================================\n\nvar construct = typeof Reflect !== \"undefined\" ? Reflect.construct : undefined;\nvar defineProperty = Object.defineProperty;\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace;\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace(error) {\n    var container = new Error();\n\n    defineProperty(error, \"stack\", {\n      configurable: true,\n      get: function getStack() {\n        var stack = container.stack;\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n\n        return stack;\n      },\n      set: function setStack(stack) {\n        defineProperty(error, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n      },\n    });\n  };\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError(message) {\n  if (message !== undefined) {\n    defineProperty(this, \"message\", {\n      configurable: true,\n      value: message,\n      writable: true,\n    });\n  }\n\n  var cname = this.constructor.name;\n  if (cname !== undefined && cname !== this.name) {\n    defineProperty(this, \"name\", {\n      configurable: true,\n      value: cname,\n      writable: true,\n    });\n  }\n\n  captureStackTrace(this, this.constructor);\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true,\n  },\n});\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function() {\n  function setFunctionName(fn, name) {\n    return defineProperty(fn, \"name\", {\n      configurable: true,\n      value: name,\n    });\n  }\n  try {\n    var f = function() {};\n    setFunctionName(f, \"foo\");\n    if (f.name === \"foo\") {\n      return setFunctionName;\n    }\n  } catch (_) {}\n})();\n\n// -------------------------------------------------------------------\n\nfunction makeError(constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError;\n  } else if (typeof super_ !== \"function\") {\n    throw new TypeError(\"super_ should be a function\");\n  }\n\n  var name;\n  if (typeof constructor === \"string\") {\n    name = constructor;\n    constructor =\n      construct !== undefined\n        ? function() {\n            return construct(super_, arguments, this.constructor);\n          }\n        : function() {\n            super_.apply(this, arguments);\n          };\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name);\n      name = undefined;\n    }\n  } else if (typeof constructor !== \"function\") {\n    throw new TypeError(\"constructor should be either a string or a function\");\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  //\n  // eslint-disable-next-line dot-notation\n  constructor.super_ = constructor[\"super\"] = super_;\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true,\n    },\n  };\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true,\n    };\n  }\n  constructor.prototype = Object.create(super_.prototype, properties);\n\n  return constructor;\n}\nexports = module.exports = makeError;\nexports.BaseError = BaseError;\n","\"use strict\";\n\nvar makeError = require('make-error');\n\nvar assign = require('object-assign');\n\nfunction ClientError(res) {\n  var props = extractErrorProps(res);\n  ClientError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction ServerError(res) {\n  var props = extractErrorProps(res);\n  ServerError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction extractErrorProps(res) {\n  var body = res.body;\n  var props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res)\n  }; // API/Boom style errors ({statusCode, error, message})\n\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  } // Query/database errors ({error: {description, other, arb, props}})\n\n\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  } // Other, more arbitrary errors\n\n\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\n\nfunction httpErrorMessage(res) {\n  var statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : '';\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\n\nfunction stringifyBody(body, res) {\n  var contentType = (res.headers['content-type'] || '').toLowerCase();\n  var isJson = contentType.indexOf('application/json') !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\n\nmakeError(ClientError);\nmakeError(ServerError);\nexports.ClientError = ClientError;\nexports.ServerError = ServerError;","\"use strict\";\n\n/* eslint-disable no-empty-function, no-process-env */\nvar getIt = require('get-it');\n\nvar assign = require('object-assign');\n\nvar observable = require('get-it/lib/middleware/observable');\n\nvar jsonRequest = require('get-it/lib/middleware/jsonRequest');\n\nvar jsonResponse = require('get-it/lib/middleware/jsonResponse');\n\nvar progress = require('get-it/lib/middleware/progress');\n\nvar Observable = require('@sanity/observable/minimal');\n\nvar _require = require('./errors'),\n    ClientError = _require.ClientError,\n    ServerError = _require.ServerError;\n\nvar httpError = {\n  onResponse: function onResponse(res) {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n\n    return res;\n  }\n}; // Environment-specific middleware.\n\nvar envSpecific = require('./nodeMiddleware');\n\nvar middleware = envSpecific.concat([jsonRequest(), jsonResponse(), progress(), httpError, observable({\n  implementation: Observable\n})]);\nvar request = getIt(middleware);\n\nfunction httpRequest(options) {\n  var requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n  return requester(assign({\n    maxRedirects: 0\n  }, options));\n}\n\nhttpRequest.defaultRequester = request;\nhttpRequest.ClientError = ClientError;\nhttpRequest.ServerError = ServerError;\nmodule.exports = httpRequest;","\"use strict\";\n\nmodule.exports = [];","'use strict';\n\nvar global = require('../util/global');\nvar objectAssign = require('object-assign');\n\nmodule.exports = function () {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var Observable = opts.implementation || global.Observable;\n  if (!Observable) {\n    throw new Error('`Observable` is not available in global scope, and no implementation was passed');\n  }\n\n  return {\n    onReturn: function onReturn(channels, context) {\n      return new Observable(function (observer) {\n        channels.error.subscribe(function (err) {\n          return observer.error(err);\n        });\n        channels.progress.subscribe(function (event) {\n          return observer.next(objectAssign({ type: 'progress' }, event));\n        });\n        channels.response.subscribe(function (response) {\n          observer.next(objectAssign({ type: 'response' }, response));\n          observer.complete();\n        });\n\n        channels.request.publish(context);\n        return function () {\n          return channels.abort.publish();\n        };\n      });\n    }\n  };\n};\n//# sourceMappingURL=observable.js.map","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar once = require('./util/once');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  useProjectHostname: true,\n  gradientMode: false,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n}; // eslint-disable-next-line no-console\n\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return once(function () {\n    return console.warn(message.join(' '));\n  });\n};\n\nvar printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nvar printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nvar printCdnTokenWarning = createWarningPrinter(['You have set `useCdn` to `true` while also specifying a token. This is usually not what you', 'want. The CDN cannot be used with an authorization token, since private data cannot be cached.', \"See \".concat(generateHelpUrl('js-client-usecdn-token'), \" for more information.\")]);\nexports.defaultConfig = defaultConfig;\n\nexports.initConfig = function (config, prevConfig) {\n  var newConfig = assign({}, defaultConfig, prevConfig, config);\n  var gradientMode = newConfig.gradientMode;\n  var projectBased = !gradientMode && newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (gradientMode && !newConfig.namespace) {\n    throw new Error('Configuration must contain `namespace` when running in gradient mode');\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    printBrowserTokenWarning();\n  } else if ((!isBrowser || isLocalhost) && newConfig.useCdn && newConfig.token) {\n    printCdnTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (!gradientMode && newConfig.dataset) {\n    validate.dataset(newConfig.dataset, newConfig.gradientMode);\n  }\n\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.token && !newConfig.withCredentials;\n\n  if (newConfig.gradientMode) {\n    newConfig.url = newConfig.apiHost;\n    newConfig.cdnUrl = newConfig.apiHost;\n  } else {\n    var hostParts = newConfig.apiHost.split('://', 2);\n    var protocol = hostParts[0];\n    var host = hostParts[1];\n    var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n    if (newConfig.useProjectHostname) {\n      newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v1\");\n      newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v1\");\n    } else {\n      newConfig.url = \"\".concat(newConfig.apiHost, \"/v1\");\n      newConfig.cdnUrl = newConfig.url;\n    }\n  }\n\n  return newConfig;\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/filter'),\n    filter = _require.filter;\n\nvar _require2 = require('@sanity/observable/operators/map'),\n    map = _require2.map;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require3 = require('./config'),\n    defaultConfig = _require3.defaultConfig,\n    initConfig = _require3.initConfig;\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  getUrl: function getUrl(uri) {\n    var canUseCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = canUseCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var uri = options.url || options.uri;\n    var canUseCdn = this.clientConfig.useCdn && ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0;\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, canUseCdn)\n    }));\n    return httpRequest(reqOptions, this.clientConfig.requester);\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar projectHeader = 'X-Sanity-Project-ID';\n\nmodule.exports = function (config) {\n  var overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = {};\n  var token = overrides.token || config.token;\n\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n\n  var withCredentials = Boolean(typeof overrides.withCredentials === 'undefined' ? config.token || config.withCredentials : overrides.withCredentials);\n  var timeout = typeof overrides.timeout === 'undefined' ? config.timeout : overrides.timeout;\n  return assign({}, overrides, {\n    headers: assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === 'undefined' ? 5 * 60 * 1000 : timeout,\n    json: true,\n    withCredentials: withCredentials\n  });\n};","import sanityClient from '@sanity/client'\nimport { api } from '../../studio/sanity.json'\nconst { projectId, dataset } = api\n\nconst client = sanityClient({\n  projectId,\n  dataset,\n  useCdn: true\n})\n\nexport default client\n","<script>\n  // import client from '../../sanityClient'\n\t// export async function preload({ params, query }) {\n  //   const owner = params.owner\n  //   const sanityQuery = '*[_type == \"palette\" && owner._ref in *[_type==\"owner\" && name==$owner]._id ]'\n  //   const sanityParams = { owner: owner }\n\n  //   const palettes = await client.fetch(sanityQuery, sanityParams)\n  //     .then(palettes => palettes)\n  //     .catch(err => this.error(500, err))\n\n  //   return {\n  //     owner,\n  //     palettes\n  //   }\n  // }\n  \n\timport client from '../sanityClient'\n  import { actions, activeAction } from '../stores.js'\n\timport Layout from '../layout.svelte'\n\n  export let owner = ''\n  export let palettes = []\n\n  // const getPalettes = async () => {\n\t// \treturn client.fetch('*[_type == \"owner\"]').then(response => {\n\t// \t\tconsole.log('response', response)\n\t// \t\treturn response\n\t// \t}).catch(err => this.error(500, err))\n\t// }\n\n\t// const palettes = getPalettes()\n\n  \n  actions.set([\n    {\n      text: 'add a color palette',\n      title: 'addPalette',\n      icon: 'add',\n      action: () => activeAction.set('addPalette')\n    }\n  ])\n</script>\n\n<svelte:head>\n  <title>{owner} | color-contrast-table</title>\n</svelte:head>\n\n<style>\n  span {\n    display: block;\n  }\n\n  div {\n    display: flex;\n  }\n\n  div span {\n    flex: 1;\n    height: 1rem;\n  }\n</style>\n\n<Layout>\n    asdfasf\n  <!-- {#if !palettes.length}\n    <p>uh oh, you have no color palettes. create one!</p>\n  {:else}\n    <ul>\n      {#each palettes as palette}\n        <li>\n          <a href='/{owner}/{palette.title}'>\n            <span>{palette.title}</span>\n            <div>\n              {#each palette.colors as color}\n                <span style=\"background-color: {color.value}\" />\n              {/each}\n            </div>\n          </a>  \n        </li>\n      {/each}\n    </ul>\n  {/if} -->\n</Layout>","<script>\n\timport { url } from '@sveltech/routify'\n\timport client from '../sanityClient'\n\timport { actions, activeAction } from '../stores.js'\n\timport Layout from '../layout.svelte'\n\n\tconst getOwners = async () => {\n\t\treturn client.fetch('*[_type == \"owner\"]').then(response => {\n\t\t\treturn response\n\t\t}).catch(err => this.error(500, err))\n\t}\n\n\tconst owners = getOwners()\n\n\tactions.set([\n\t\t{\n\t\t\ttitle: 'addUser',\n\t\t\ttext: 'add a user',\n\t\t\ticon: 'add',\n\t\t\taction: () => activeAction.set('addUser')\n\t\t}\n\t])\n</script>\n\n<svelte:head>\n\t<title>color-contrast-table</title>\n</svelte:head>\n\n<Layout>\n\t{#await owners}\n\t\t<p>...waiting</p>\n\t{:then owners}\n\t\t{#if owners && owners.length}\n\t\t\t<ul>\n\t\t\t\t{#each owners as owner}\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<!-- <a href='{owner.name}'> -->\n\t\t\t\t\t\t<a href={$url('/:owner', {owner: owner.name})}>\n\t\t\t\t\t\t\t<span>{owner.name}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\t\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t{:else}\n\t\t\t<p>uh oh, there are no users. create one!</p>\n\t\t{/if}\n\t{:catch error}\n\t\terror?\n\t{/await}\n</Layout>\n","\n/**\n * @sveltech/routify 1.9.9\n * File generated Fri Sep 04 2020 10:15:00 GMT-0500 (Central Daylight Time)\n */\n\nexport const __version = \"1.9.9\"\nexport const __timestamp = \"2020-09-04T15:15:00.114Z\"\n\n//buildRoutes\nimport { buildClientTree } from \"@sveltech/routify/runtime/buildRoutes\"\n\n//imports\nimport __fallback from '../../../../src/pages/_fallback.svelte'\nimport __owner from '../../../../src/pages/[owner].svelte'\nimport _index from '../../../../src/pages/index.svelte'\n\n//options\nexport const options = {}\n\n//tree\nexport const _tree = {\n  \"name\": \"root\",\n  \"filepath\": \"/\",\n  \"root\": true,\n  \"ownMeta\": {},\n  \"absolutePath\": \"src/pages\",\n  \"children\": [\n    {\n      \"isFile\": true,\n      \"isDir\": false,\n      \"ext\": \"svelte\",\n      \"isLayout\": false,\n      \"isReset\": false,\n      \"isIndex\": false,\n      \"isFallback\": true,\n      \"isPage\": false,\n      \"ownMeta\": {},\n      \"meta\": {\n        \"preload\": false,\n        \"prerender\": true,\n        \"precache-order\": false,\n        \"precache-proximity\": true,\n        \"recursive\": true\n      },\n      \"path\": \"/_fallback\",\n      \"id\": \"__fallback\",\n      \"component\": () => __fallback\n    },\n    {\n      \"isFile\": true,\n      \"isDir\": false,\n      \"ext\": \"svelte\",\n      \"isLayout\": false,\n      \"isReset\": false,\n      \"isIndex\": false,\n      \"isFallback\": false,\n      \"isPage\": true,\n      \"ownMeta\": {},\n      \"meta\": {\n        \"preload\": false,\n        \"prerender\": true,\n        \"precache-order\": false,\n        \"precache-proximity\": true,\n        \"recursive\": true\n      },\n      \"path\": \"/:owner\",\n      \"id\": \"__owner\",\n      \"component\": () => __owner\n    },\n    {\n      \"isFile\": true,\n      \"isDir\": false,\n      \"ext\": \"svelte\",\n      \"isLayout\": false,\n      \"isReset\": false,\n      \"isIndex\": true,\n      \"isFallback\": false,\n      \"isPage\": true,\n      \"ownMeta\": {},\n      \"meta\": {\n        \"preload\": false,\n        \"prerender\": true,\n        \"precache-order\": false,\n        \"precache-proximity\": true,\n        \"recursive\": true\n      },\n      \"path\": \"/index\",\n      \"id\": \"_index\",\n      \"component\": () => _index\n    }\n  ],\n  \"isLayout\": false,\n  \"isReset\": false,\n  \"isIndex\": false,\n  \"isFallback\": false,\n  \"meta\": {\n    \"preload\": false,\n    \"prerender\": true,\n    \"precache-order\": false,\n    \"precache-proximity\": true,\n    \"recursive\": true\n  },\n  \"path\": \"/\"\n}\n\n\nexport const {tree, routes} = buildClientTree(_tree)\n\n","import App from './app.svelte'\n\nconst app = new App({\n\ttarget: document.body\n})\n\nexport default app"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","exclude_internal_props","props","result","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","set_svg_attributes","attributes","key","children","Array","from","childNodes","claim_element","nodes","svg","nodeName","j","remove","splice","set_input_value","input","toggle_class","toggle","classList","current_component","set_current_component","get_current_component","Error","setContext","context","set","getContext","get","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","flushing","seen_callbacks","Set","update","pop","has","add","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","destroy_block","lookup","outro_and_destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","next","get_context","n","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","abs","will_move","did_move","m","first","new_block","old_block","new_key","old_key","get_spread_update","levels","updates","to_null_out","accounted_for","get_spread_object","spread_props","create_component","mount_component","on_mount","new_on_destroy","map","filter","destroy_component","init","instance","create_fragment","not_equal","parent_component","prop_values","bound","ready","ret","rest","fill","make_dirty","hydrate","l","intro","SvelteComponent","[object Object]","this","$destroy","type","index","indexOf","subscriber_queue","writable","start","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","unsubscribers","MATCH_PARAM","RegExp","handleScroll","navigator","userAgent","includes","scrollAncestorsToTop","scrollTo","dataset","routify","style","top","behavior","parentElement","hash","window","location","test","substring","el","querySelector","scrollIntoView","handleHash","pathToParamKeys","string","paramsKeys","matches","exec","warningSuppressed","currentLocation","pathMatch","search","match","prefetchMatch","prefetched","replace","pathname","route","routes","rootContext","params","urlRoute","basepath","console","warn","$basepath","$route","base","path","regex","queryHandler","parse","fromEntries","iterable","URLSearchParams","reduce","obj","val","stringify","toString","urlToRoute","url","stores.routes","stores.basepath","find","config","paramKeys","layouts","arr","layout","split","Boolean","layoutByPos","fragments","f","getRouteProps","prop","param","leftover","prefetch","important","setProperty","queue","actives","q","removeFromQueue","idOrEvent","id","prefetchId","entry","gracePeriod","gracePromise","setTimeout","idlePromise","requestIdleCallback","all","timeout","getRoutifyContext","afterPageLoad","_hooks","hookHandler","beforeUrlChange","listener","hooks","args","$ctx","$oldRoute","$routes","$location","strict","breadcrumbs","relativePath","dir","matchingRoute","meta","shortPath","allParams","pathWithParams","entries","pathParamKeys","queryParams","_getQueryString","makeUrlHelper","_metatags","templates","services","plain","propField","valueField","twitter","og","plugins","condition","action","getLongest","x","writeMeta","title","repo","providers","currentPath","keys","sort","head","getElementsByTagName","serviceName","metatags","oldElement","newElement","plugin","origin","getOrigin","_pendingUpdate","_updateQueued","routifyCtx","Proxy","receiver","Reflect","appLoaded","batchedUpdate","isLayout","isDecorator","scopeToChild","scoped","Decorator","childOfDecorator","isRoot","scopedSync","remainingLayouts","parentContextStore","onComponentLoaded","componentFile","parentContext","hook","api","tick","pagePath","$context","routePath","isOnCurrentRoute","stopAutoReady","dispatchEvent","CustomEvent","parent","postMessage","msg","onAppLoaded","onLastComponentLoaded","child","decoratorLayout","PendingComponent","setComponent","lastRoute","updatePage","proxyToUrl","shallow","last","stores.urlRoute","stores.route","eventName","history","async","state","Event","toLowerCase","runHooksBeforeUrlChange","apply","_ignoreNextPop","listeners","click","handleClick","pushstate","replacestate","popstate","preventDefault","go","createEventListeners","closest","href","ctrlKey","metaKey","altKey","shiftKey","button","defaultPrevented","host","pushState","inBrowser","defaultConfig","consoleWarn","msgs","iMsg","suppressWarnings","res","initTimeout","clearTimeout","routesStore","createNodeMiddleware","inner","payload","nodeMiddleware","file","scope","clone","_file","tree","treePayload","nodeMiddlewareSync","JSON","setRegex","isPage","isFallback","str","recursive","suffix","pathToRegex","setParamKeys","setShortPath","isIndex","setRank","ranking","startsWith","join","pathToRank","addMetaChildren","metaChildren","isMeta","setIsIndexable","isIndexable","isNonIndexable","assignRelations","defineProperty","_getSibling","_getLineage","lineage","unshift","direction","root","siblings","assignIndex","assignLayout","getLayouts","isReset","setPrototype","Prototype","isFile","setPrototypeOf","prototype","assignAPI","ClientApi","__file","enumerable","_prettyName","localeCompare","numeric","sensitivity","_navigate","prev","miscPlugins","actions","activeAction","colorPalette","active","Moon","Sun","localStorage","darkMode","checkDarkMode","getItem","documentElement","setDarkModeCSS","setItem","icon","icons","Add","code","Code","download","Download","edit","Edit","save","Save","buttons","currentAction","colors","currentColorPalette","newOwner","newPalette","newColor","contains","_type","fetch","method","credentials","headers","Content-Type","body","response","json","log","catch","error","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","TypeError","test1","String","getOwnPropertyNames","test2","fromCharCode","test3","letter","err","shouldUseNative","source","symbols","to","arguments","call","exports","_enable_super_gross_mode_that_will_cause_bad_things","useDeprecatedSynchronousErrorHandling","stack","closed","config_1","hostReportError_1","hostReportError","complete","UnsubscriptionErrorImpl","errors","message","Subscription","_parentOrParents","_subscriptions","_ctorUnsubscribe","_unsubscribe","isFunction_1","isFunction","e","UnsubscriptionError_1","UnsubscriptionError","flattenUnsubscriptionErrors","isArray_1","sub","isObject_1","isObject","concat","teardown","subscription","EMPTY","tmp","subscriptions","subscriptionIndex","errs","Symbol","random","rxSubscriber","extendStatics","__extends","__proto__","__","constructor","Subscriber","_super","destinationOrNext","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","Observer_1","SafeSubscriber","rxSubscriber_1","_next","_error","_complete","_unsubscribeAndRecycle","Subscription_1","_parentSubscriber","observerOrNext","bind","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","predicate","thisArg","lift","FilterOperator","FilterSubscriber","count","Subscriber_1","require$$0","project","MapOperator","MapSubscriber","assignKey","sel","query","selectionOpts","_typeof","iterator","VALID_ASSET_TYPES","VALID_INSERT_LOCATIONS","op","doc","_id","validateDocumentId","at","selector","items","signature","valid","loc","gradientMode","_defineProperty","configurable","validateObject","validate","validateInsert","Patch","selection","operations","client","merge","trim","_assign","deepAssign","diffMatchPatch","unset","attrs","setIfMissing","_set","$","inc","dec","_this$_assign","prepend","deleteCount","startIndex","delCount","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","serialize","getSelection","toJSON","commit","returnFirst","opts","returnDocuments","mutate","patch","reset","defaultMutateOptions","Transaction","transactionId","trxId","validators","_add","createIfNotExists","requireDocumentId","createOrReplace","documentId","patchOps","isBuilder","mut","enc","encodeURIComponent","_ref","_ref$params","_ref$options","qString","qs","option","observer","_a","closed_1","nextOrObserver","observable","pipeFromArray","identity_1","identity","_i","Observable","_isScalar","_subscribe","operator","sink","toSubscriber_1","toSubscriber","_trySubscribe","canReportError_1","canReportError","promiseCtor","getPromiseCtor","reject","observable_1","pipe","pipe_1","toPromise","accumulator","seed","hasSeed","ScanOperator","ScanSubscriber","_seed","_tryNext","ArgumentOutOfRangeErrorImpl","Observable_1","scheduler","schedule","emptyScheduled","empty_1","TakeLastOperator","total","ArgumentOutOfRangeError_1","ArgumentOutOfRangeError","TakeLastSubscriber","ring","idx","defaultValue","DefaultIfEmptyOperator","DefaultIfEmptySubscriber","isEmpty","scan_1","scan","takeLast_1","takeLast","defaultIfEmpty_1","defaultIfEmpty","acc","_require","_require2","_require3","_require4","SanityObservableMinimal","createDeprecatedMemberOp","hasWarned","factory","module","global","EventSource","_eventSourceImportPrefix","self","SyntaxError","URL","setOptions","evs","poll","CONNECTING","OPEN","CLOSED","defaultOptions","loggingEnabled","loggingPrefix","interval","bufferSizeLimit","silentTimeout","getArgs","evs_buffer_size_limit","xhrHeaders","Accept","Cache-Control","X-Requested-With","defaults","readyState","cursor","cache","_xhr","XHR","resetNoActivityTimer","pollAgain","_pollTimer","clearInterval","_noActivityTimer","abort","close","_onxhrdata","request","isReady","hasError","buffer","getBuffer","lastMessageIndex","newcursor","toparse","parseStream","isDone","chunk","eventType","datas","line","retry","events","normalizeToLF","parts","trimWhiteSpace","parseInt","isNaN","lastEventId","MessageEvent","handlers","_noactivityTimer","onerror","onmessage","onopen","urlWithParams","baseURL","encodedArgs","urlarg","urlize","ln2","lastIndexOf","lr2","lrln2","XDomainRequest","XMLHttpRequest","responseType","isPolyfill","evs_preamble","_request","onprogress","_ready","onload","_loaded","_failed","ontimeout","reqGetArgs","defaultArgs","evs_last_event_id","open","send","useXDomainRequest","rv","responseText","onreadystatechange","status","header","setRequestHeader","bubbles","cancelBubble","cancelable","slug","returnValue","didCall","tokenWarning","generateHelpUrl","printTokenWarning","once","isWindowEventSource","polyfilledEventSource","possibleOptions","includeResult","parseEvent","cooerceError","evt","description","extractErrorMessage","excludeFalsey","defValue","getMutationQuery","returnIds","visibility","isResponse","getBody","listenOpts","pick","encodeQueryString","_this$clientConfig","clientConfig","token","withCredentials","uri","getDataUrl","listenFor","shouldEmitReconnect","esOptions","Authorization","reconnectTimer","es","getEventSource","stopped","onError","onChannelError","onMessage","onDisconnect","operation","catalog","namespace","hasDataset","baseUri","mapResponse","filterResponse","_dataRequest","isPromiseAPI","getDocument","_requestObservable","documents","getDocuments","ids","indexed","docs","indexBy","_create","dataRequest","mutations","muts","transaction","endpoint","isMutation","strQuery","useGet","stringQuery","reqOptions","results","mutation","DatasetsClient","_modify","ProjectsClient","getById","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","done","_iterableToArrayLimit","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","arr2","AssetsClient","toDocument","optionsFromFile","File","filename","preserveFilename","contentType","upload","assetType","validateAssetType","extract","assetEndpoint","label","creditLine","sourceId","sourceName","sourceUrl","docId","getImageUrl","ref","_id$split2","assetId","size","format","_this$client$clientCo","projectId","queryString","UsersClient","AuthClient","getLoginProviders","logout","publish","middleware","_len","_key","bailEarly","port","protocol","decode","decodeURIComponent","encode","prefix","pairs","part","parser","slashes","protocolre","left","trimLeft","rules","address","NaN","ignore","lolcation","finaldestination","Url","unescape","extractProtocol","relative","extracted","instruction","instructions","charAt","up","required","hostname","username","password","auth","char","ins","isReactNative","product","objectAssign","urlParse","normalizeTimeout","time","connect","socket","delay","Number","removeUndefined","toUpperCase","stringifyQueryString","item","validUrl","arg","headersArr","row","win","XmlHttpRequest","applyMiddleware","timers","cors","uri1","uri2","ieMode","url1","url2","url1Port","url2Port","proto","sameOrigin","injectedResponse","adapter","cbTimer","xhr","isXdr","aborted","loaded","timedOut","onabort","delays","stopTimers","timeoutRequest","resetTimers","statusCode","statusMessage","statusText","parseHeaders","getAllResponseHeaders","reduceResponse","onLoad","rawBody","channels","isNetworkError","channelNames","middlehooks","createRequester","initMiddleware","loadedMiddleware","ware","processOptions","validateOptions","pubsub","middlewareReducer","ongoingRequest","httpRequest","reqErr","onResponse","use","newMiddleware","onReturn","isObjectObject","serializeTypes","tryParse","onRequest","handleProgress","stage","percent","lengthComputable","progress","construct","captureStackTrace","BaseError","cname","container","setFunctionName","super_","properties","ClientError","extractErrorProps","super","ServerError","responseBody","stringifyBody","details","httpErrorMessage","httpError","getIt","ctor","prot","isBuffer","shouldDecode","force","implementation","requester","maxRedirects","defaultRequester","apiHost","useProjectHostname","LOCALHOSTS","createWarningPrinter","printCdnWarning","printBrowserTokenWarning","printCdnTokenWarning","prevConfig","newConfig","projectBased","helpUrl","isBrowser","isLocalhost","isLocal","ignoreBrowserTokenWarning","useCdn","isDefaultApi","cdnUrl","hostParts","cdnHost","initConfig","SanityClient","assets","datasets","projects","users","observableConfig","dataMethods","getUrl","canUseCdn","overrides","useGlobalApi","getRequestOptions","sanityClient","owner","palettes","promise","info","resolved","current","needs_flush","blocks","mount","owners","getOwners","_tree","filepath","ownMeta","absolutePath","isDir","ext","preload","prerender","precache-order","precache-proximity","__fallback","__owner","_index","order","buildClientTree"],"mappings":"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"}